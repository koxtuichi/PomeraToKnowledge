<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ポメラ ナレッジグラフ (Enhanced)</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', 'Hiragino Sans', 'Meiryo', sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      overflow: hidden;
    }

    #app {
      display: flex;
      height: 100vh;
    }

    /* ── サイドバー（左） ── */
    #sidebar {
      width: 320px;
      background: #1e293b;
      border-right: 1px solid #334155;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      flex-shrink: 0;
      box-shadow: 4px 0 24px rgba(0, 0, 0, 0.2);
      z-index: 10;
    }

    /* ── サイドバー（右：Future Goals） ── */
    #right-sidebar {
      width: 280px;
      background: #1e293b;
      border-left: 1px solid #334155;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      flex-shrink: 0;
      box-shadow: -4px 0 24px rgba(0, 0, 0, 0.2);
      z-index: 10;
    }

    #sidebar-header,
    #right-sidebar-header {
      padding: 20px;
      border-bottom: 1px solid #334155;
      background: linear-gradient(135deg, #1e293b, #0f172a);
    }

    #right-sidebar-header h2 {
      font-size: 16px;
      font-weight: 700;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .goal-list {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
    }

    .goal-item {
      background: rgba(30, 41, 59, 0.5);
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 12px;
      transition: all 0.2s;
    }

    .goal-item:hover {
      background: #334155;
      border-color: #475569;
    }

    .goal-type {
      font-size: 10px;
      text-transform: uppercase;
      font-weight: 700;
      color: #94a3b8;
      margin-bottom: 4px;
      display: inline-block;
      padding: 2px 6px;
      border-radius: 4px;
      background: #0f172a;
    }

    .goal-type.event {
      color: #f472b6;
    }

    .goal-type.goal {
      color: #34d399;
    }

    .goal-date {
      font-size: 11px;
      color: #cbd5e1;
      margin-bottom: 4px;
    }

    .goal-label {
      font-size: 13px;
      font-weight: 600;
      color: #e2e8f0;
      line-height: 1.4;
    }

    /* ── コントロール ── */
    #controls {
      padding: 20px;
      border-bottom: 1px solid #334155;
      overflow-y: auto;
    }

    .control-group {
      margin-bottom: 20px;
    }

    .control-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #64748b;
      font-weight: 700;
      margin-bottom: 10px;
    }

    select,
    input[type="text"] {
      width: 100%;
      padding: 10px 12px;
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      color: #e2e8f0;
      font-size: 13px;
      margin-bottom: 12px;
      transition: all 0.2s;
    }

    select:focus,
    input[type="text"]:focus {
      outline: none;
      border-color: #60a5fa;
      box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.2);
    }

    /* Mode Switcher */
    .mode-switch {
      display: flex;
      background: #0f172a;
      border-radius: 8px;
      padding: 4px;
      border: 1px solid #334155;
      margin-bottom: 12px;
    }

    .mode-btn {
      flex: 1;
      text-align: center;
      padding: 6px;
      font-size: 12px;
      border-radius: 6px;
      cursor: pointer;
      color: #94a3b8;
      transition: all 0.2s;
    }

    .mode-btn.active {
      background: #334155;
      color: #fff;
      font-weight: 600;
    }

    .toggle-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      font-size: 13px;
      color: #cbd5e1;
      cursor: pointer;
      padding: 4px 0;
    }

    .toggle-row:hover {
      color: #fff;
    }

    .toggle-row input {
      accent-color: #f472b6;
    }

    /* ── 詳細パネル ── */
    #detail-panel {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .detail-card {
      background: linear-gradient(180deg, #1e293b, #0f172a);
      border: 1px solid #334155;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .detail-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .detail-card h3 {
      font-size: 18px;
      font-weight: 700;
      color: #fff;
    }

    .sentiment-badge {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 12px;
      background: #334155;
      font-weight: 600;
    }

    .badge-pos {
      background: rgba(52, 211, 153, 0.2);
      color: #34d399;
    }

    .badge-neg {
      background: rgba(248, 113, 113, 0.2);
      color: #f87171;
    }

    .badge-neu {
      background: rgba(148, 163, 184, 0.2);
      color: #94a3b8;
    }

    .detail-card .detail-text {
      font-size: 14px;
      color: #cbd5e1;
      line-height: 1.7;
      margin-bottom: 16px;
    }

    .tags-container {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 16px;
    }

    .tag {
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 4px;
      background: #334155;
      color: #94a3b8;
      border: 1px solid #475569;
    }

    .tag.distortion {
      background: rgba(244, 63, 94, 0.15);
      border-color: rgba(244, 63, 94, 0.4);
      color: #fb7185;
    }

    /* ── グラフコンテナ ── */
    #graph-container {
      flex: 1;
      position: relative;
      background: radial-gradient(circle at center, #1e293b 0%, #0f172a 70%);
    }

    svg {
      width: 100%;
      height: 100%;
    }

    /* ── ツールチップ ── */
    .tooltip {
      position: absolute;
      padding: 12px 16px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid #475569;
      border-radius: 8px;
      font-size: 12px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.15s;
      max-width: 320px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      z-index: 100;
    }

    /* ── 凡例 ── */
    .legend {
      position: absolute;
      bottom: 24px;
      right: 24px;
      background: rgba(30, 41, 59, 0.9);
      border: 1px solid #334155;
      border-radius: 12px;
      padding: 16px 20px;
      font-size: 11px;
      backdrop-filter: blur(8px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .legend h5 {
      color: #94a3b8;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 6px;
    }

    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .legend-line {
      width: 20px;
      height: 2px;
    }

    /* Modal Styles */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: #1e293b;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      border-radius: 12px;
      border: 1px solid #475569;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .modal-header {
      padding: 20px 24px;
      border-bottom: 1px solid #334155;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: #f472b6;
    }

    .close-btn {
      background: none;
      border: none;
      color: #94a3b8;
      font-size: 24px;
      cursor: pointer;
      line-height: 1;
      padding: 0;
    }

    .close-btn:hover {
      color: #fff;
    }

    .modal-body {
      padding: 24px;
      overflow-y: auto;
      font-size: 16px;
      line-height: 1.8;
      color: #e2e8f0;
      font-family: "Yu Mincho", serif;
      /* Narrative style */
    }

    .modal-body p {
      margin-bottom: 1.5em;
    }
  </style>
</head>

<body>
  <div id="app">
    <div id="sidebar">
      <div id="sidebar-header">
        <h1>ポメラ ナレッジグラフ</h1>
        <div class="stats" id="stats"></div>
      </div>

      <div id="controls">
        <div class="control-group">
          <div class="control-title">Analysis Mode</div>
          <div class="mode-switch">
            <div class="mode-btn active" onclick="setMode('default')">標準</div>
            <div class="mode-btn" onclick="setMode('sentiment')">感情分析</div>
            <div class="mode-btn" onclick="setMode('community')">コミュニティ</div>
          </div>
        </div>

        <div class="control-group">
          <div class="control-title">Search & Filter</div>
          <input type="text" id="search-input" placeholder="ノードを検索...">
          <label class="toggle-row">
            <input type="checkbox" id="highlight-distortion" onchange="toggleDistortion()">
            ⚠️ 認知の歪み (CBT) を強調
          </label>
        </div>

        <div class="control-group">
          <div class="control-title">Edge Filters</div>
          <div class="edge-toggle" id="edge-toggles">
            <!-- JSで生成 -->
          </div>
        </div>

        <div id="info-box"
          style="margin-top:20px; padding:12px; background:#334155aa; border-radius:8px; font-size:12px; display:none;">
          <strong style="color:#f472b6">💡 Analysis Insight</strong><br>
          <button onclick="resetZoom()">Zoom Reset</button>
        </div>

      </div>

      <div id="journal-list-container" style="flex: 1; overflow-y: auto; border-bottom: 1px solid #334155;">
        <div class="control-title" style="padding: 15px 20px 5px;">📜 Journal & Reviews</div>
        <div id="journal-list" style="padding: 0 15px 15px;">
          <!-- JS Populated -->
        </div>
      </div>

      <div id="detail-panel" style="flex: 1; border-top: 1px solid #334155;">
        <div class="detail-empty">ノードをクリックして詳細を表示</div>
      </div>
    </div>

    <div id="graph-container">
      <div class="tooltip" id="tooltip"></div>
      <div class="legend" id="legend">
        <!-- JSで生成 -->
      </div>
    </div>

    <!-- 右サイドバー -->
    <div id="right-sidebar">
      <div id="right-sidebar-header">
        <h2>Future Goals & Events</h2>
      </div>
      <div class="goal-list" id="goal-list">
        <!-- JS Populated -->
      </div>
    </div>
  </div>

  <!-- Analysis Modal -->
  <div id="analysis-modal" class="modal-overlay" onclick="closeModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">
        <div class="modal-title">📊 AI Analysis Report</div>
        <button class="close-btn" onclick="closeModal()">&times;</button>
      </div>
      <div id="modal-body" class="modal-body markdown-body">
        <!-- Content injected here -->
      </div>
    </div>
  </div>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>

    // ── データ（LLM抽出シミュレーション） ──

    // GRAPH_DATA_START
    const GRAPH_DATA = {
  "nodes": [
    {
      "id": "person:self",
      "label": "自分",
      "type": "self",
      "detail": "フロントエンドエンジニアのリーダーであり、副業でAI活用に従事している人物。",
      "sentiment": -0.2,
      "community": 0,
      "first_seen": "2026-02-15T18:28:14.833713",
      "last_seen": "2026-02-15T16:11:28.745621",
      "weight": 26,
      "tags": []
    },
    {
      "id": "event:pomera_arrival",
      "label": "ポメラの到着",
      "type": "event",
      "detail": "メルカリで購入したスケルトンのポメラが届く予定。",
      "sentiment": 0.9,
      "status": "Scheduled",
      "date": "2026-02-15",
      "tags": [
        "Excitement",
        "Shopping"
      ],
      "community": 1,
      "first_seen": "2026-02-15T18:28:14.833719",
      "last_seen": "2026-02-15T18:28:14.833719",
      "weight": 1
    },
    {
      "id": "concept:skeleton_pomera",
      "label": "スケルトンポメラ",
      "type": "concept",
      "detail": "メルカリで1分で購入できた、希少なスケルトンモデルのポメラ。",
      "sentiment": 1.0,
      "community": 1,
      "first_seen": "2026-02-15T18:28:14.833720",
      "last_seen": "2026-02-15T18:28:14.833720",
      "weight": 1
    },
    {
      "id": "event:lalaport_trip",
      "label": "ららぽーとお出かけ",
      "type": "event",
      "detail": "家族3人とさやかの両親との買い物。蒼馬の用品を購入した。",
      "sentiment": 0.7,
      "status": "Completed",
      "community": 2,
      "first_seen": "2026-02-15T18:28:14.833722",
      "last_seen": "2026-02-15T18:28:14.833722",
      "weight": 1
    },
    {
      "id": "person:sayaka",
      "label": "さやか",
      "type": "person",
      "detail": "筆者の妻。33歳。",
      "community": 2,
      "first_seen": "2026-02-15T18:28:14.833722",
      "last_seen": "2026-02-15T16:10:58.534940",
      "weight": 10,
      "tags": [],
      "sentiment": 0.5
    },
    {
      "id": "person:souma",
      "label": "蒼馬",
      "type": "person",
      "detail": "筆者の息子。0歳9ヶ月（5月9日生まれ）。",
      "community": 2,
      "first_seen": "2026-02-15T18:28:14.833724",
      "last_seen": "2026-02-15T16:10:58.534937",
      "weight": 10,
      "tags": [],
      "sentiment": 0.8
    },
    {
      "id": "person:sayaka_parents",
      "label": "さやかの両親",
      "type": "person",
      "detail": "一緒にららぽーとで買い物をした親族。",
      "community": 2,
      "first_seen": "2026-02-15T18:28:14.833725",
      "last_seen": "2026-02-15T18:28:14.833725",
      "weight": 1
    },
    {
      "id": "place:gatten_sushi",
      "label": "がってん寿司",
      "type": "place",
      "detail": "鯛の塩炙りが絶品だった寿司店。",
      "sentiment": 0.9,
      "community": 2,
      "first_seen": "2026-02-15T18:28:14.833726",
      "last_seen": "2026-02-15T18:28:14.833726",
      "weight": 1
    },
    {
      "id": "goal:diet",
      "label": "ダイエット",
      "type": "goal",
      "detail": "現在取り組んでいるが、寿司やチュロスを食べてしまった。",
      "sentiment": -0.2,
      "status": "Active",
      "tags": [
        "Cognitive Distortion: Should Statement"
      ],
      "community": 2,
      "first_seen": "2026-02-15T18:28:14.833727",
      "last_seen": "2026-02-15T18:28:14.833727",
      "weight": 1
    },
    {
      "id": "project:llm_analysis",
      "label": "LLM自己分析フローの構築",
      "type": "project",
      "detail": "日記をLLMに読み込ませて自己分析を行う仕組みの検討。",
      "status": "Active",
      "community": 3,
      "first_seen": "2026-02-15T18:28:14.833728",
      "last_seen": "2026-02-15T18:28:14.833728",
      "weight": 1
    },
    {
      "id": "concept:json_ld",
      "label": "JSON-LD",
      "type": "concept",
      "detail": "LLMとの認識のズレをなくすための構造化データフォーマット。",
      "sentiment": 0.6,
      "community": 3,
      "first_seen": "2026-02-15T18:28:14.833729",
      "last_seen": "2026-02-15T18:28:14.833729",
      "weight": 1
    },
    {
      "id": "insight:freeform_writing",
      "label": "自由形式へのこだわり",
      "type": "insight",
      "detail": "思考を遮らない自由な記述と、LLM用の構造化をどう両立するかという悩み。",
      "sentiment": 0.0,
      "tags": [
        "Conflict"
      ],
      "community": 3,
      "first_seen": "2026-02-15T18:28:14.833730",
      "last_seen": "2026-02-15T18:28:14.833730",
      "weight": 1
    },
    {
      "id": "insight:past_pomera_failure",
      "label": "過去のポメラ挫折経験",
      "type": "insight",
      "detail": "DM100、DM30、DM200を使いこなせず売却した過去。",
      "sentiment": -0.3,
      "tags": [
        "Past Failure"
      ],
      "community": 1,
      "first_seen": "2026-02-15T18:28:14.833730",
      "last_seen": "2026-02-15T18:28:14.833730",
      "weight": 1
    },
    {
      "id": "emotion:writing_joy",
      "label": "日記を書く達成感",
      "type": "emotion",
      "detail": "頭のモヤモヤが晴れ、自分と向き合えている感覚。",
      "sentiment": 1.0,
      "tags": [
        "Growth",
        "Mental Health"
      ],
      "community": 0,
      "first_seen": "2026-02-15T18:28:14.833731",
      "last_seen": "2026-02-15T18:28:14.833731",
      "weight": 1
    },
    {
      "id": "goal:effective_pomera_use",
      "label": "ポメラの有効活用",
      "type": "goal",
      "detail": "今回は挫折せず、ポメラを自己成長に繋げたい。",
      "status": "Active",
      "community": 1,
      "first_seen": "2026-02-15T18:28:14.833732",
      "last_seen": "2026-02-15T18:28:14.833732",
      "weight": 1
    },
    {
      "id": "diary:2026-02-14",
      "label": "2026-02-14",
      "type": "diary",
      "detail": "日記エントリ",
      "tags": [],
      "sentiment": 0.0,
      "date": "2026-02-14",
      "analysis_content": "プロフェッショナルなライフコーチおよびデータアナリストとして、2026年2月14日の日記データを分析し、フィードバックとアクションプランを提示します。\n\n---\n\n# デイリーフィードバック＆アクションプラン：2026-02-14\n\n## 1. Plan vs Actual Analysis（計画と実績の分析）\n\n本日はマスターグラフに事前の予定が登録されていなかったため、今日の実績から現在のステータスを評価します。\n\n*   **完了したイベント**:\n    *   **ららぽーとへのお出かけ**: 家族や親族との交流、蒼馬さんの用品購入など、対人・家族面で非常に充実した時間を過ごせています（Sentiment 0.7）。\n*   **未達・課題のある目標**:\n    *   **ダイエット (Status: Active)**: 「がってん寿司」での食事やチュロスにより、目標に反する行動が発生しました。グラフ内の「べき思考（Should Statement）」というタグから、**「せっかくの外出だから楽しむべき」という誘惑と「節制すべき」という自責の板挟み**が伺えます。\n*   **進行中のプロジェクト**:\n    *   **LLM自己分析フローの構築**: JSON-LDの検討など、技術的な具体化が進んでいます。\n    *   **ポメラの有効活用**: 過去に3台の挫折経験がある中、明日の新型（スケルトンモデル）到着に向けて期待と緊張が混在しています。\n\n## 2. Meta-Cognition（メタ認知：思考のパターンとトリガー）\n\nデータから以下のパターンが特定されました：\n\n*   **「道具」への高い期待と過去のトラウマ**:\n    新しい道具（スケルトンポメラ）の購入に対する高揚感（Sentiment 1.0）がある一方で、過去の挫折（DM100/30/200）を明確に記憶しています。**「手に入れること」が目的化しやすい傾向**があることを自覚している点は、成長に向けた重要な一歩です。\n*   **「自由」と「構造」の葛藤**:\n    思考を妨げたくない「自由記述」へのこだわりと、LLMに理解させたい「構造化（JSON-LD）」の間でトレードオフが発生しています。これはあなたの知的好奇心と効率性の両立を求める性質を表しています。\n*   **食のトリガー**:\n    「がってん寿司の鯛の塩炙り」のように、**質の高い食体験に対してはダイエットの優先順位が下がりやすい**ようです。これを単なる「失敗」と捉えず、「特別な日の例外」として許容できるかが継続の鍵です。\n\n## 3. Context-Aware Advice（コンテキストに基づく助言）\n\n### **Keep：今後も継続すべきこと**\n*   **「書くこと」によるメンタルケア**: 「頭のモヤモヤが晴れる」という感覚（Sentiment 1.0）を大切にしてください。ポメラが届く前から、今の執筆フロー自体がすでにあなたの精神的安定に寄与しています。\n*   **家族との共有体験**: 良好な対人関係はすべての活動の基盤です。\n\n### **Problem：進捗を阻害している要因**\n*   **「べき思考」による自己否定**: ダイエット中の外食を「失敗」と定義しすぎると、モチベーションの減退を招きます。\n*   **ポメラの「所有」による満足**: 過去の挫折パターンは「買ったことで満足し、実運用が形骸化する」ことだった可能性があります。\n\n### **Try：明日への具体的なアクション**\n1.  **【明日：ポメラ到着イベント】への備え**:\n    *   明日は「設定」や「カスタマイズ」に時間を使いすぎず、まずは**「今の気持ちを10分だけ打つ」というスモールスタート**を徹底してください。\n    *   過去の機種で挫折した理由（例：重さ、起動速度、同期の面倒さなど）を、新しいスケルトンモデルでどう回避するか、ポメラ自身を使って「ポメラ会議」を自分と開催してみてください。\n2.  **【ダイエット】のリカバリー**:\n    *   明日は「ららぽーと」での摂取カロリーを相殺するため、軽めの食事、または15分程度のウォーキングを意識的に取り入れてください。\n3.  **【LLM構築】への一歩**:\n    *   「自由形式」と「構造化」を分けるアプローチを検討してください。まず自由に書き、その後にLLMを使って「抽出（JSON化）」させるという**後処理フロー**に振り切ることで、執筆時のストレスが軽減されます。\n\n---\n**コーチの一言**:\nスケルトンモデルのポメラ、楽しみですね！「過去の自分」に縛られず、「今の自分がどう書きたいか」を優先して、明日の到着を迎えましょう。",
      "first_seen": "2026-02-15T18:28:14.833733",
      "last_seen": "2026-02-15T18:28:14.833733",
      "weight": 1
    },
    {
      "id": "concept:pomera",
      "label": "ポメラ (DM250XG)",
      "type": "concept",
      "detail": "届いたばかりの黄色のスケルトンモデル。所有欲を満たしてくれる執筆専用デバイス。",
      "sentiment": 0.9,
      "tags": [
        "Growth"
      ],
      "community": 1,
      "first_seen": "2026-02-15T18:28:40.946187",
      "last_seen": "2026-02-15T18:28:40.946187",
      "weight": 1
    },
    {
      "id": "project:self_analysis_flow",
      "label": "自己分析フローの構築",
      "type": "project",
      "detail": "ポメラで何をするべきか、責務を明確にするためのプロセス設計。",
      "status": "Active",
      "sentiment": 0.3,
      "community": 2,
      "first_seen": "2026-02-15T18:28:40.946189",
      "last_seen": "2026-02-15T18:28:40.946189",
      "weight": 1
    },
    {
      "id": "emotion:excitement",
      "label": "興奮と満足感",
      "type": "emotion",
      "detail": "ポメラを手にした瞬間の「買ってよかった」という強い喜び。",
      "sentiment": 1.0,
      "community": 1,
      "first_seen": "2026-02-15T18:28:40.946190",
      "last_seen": "2026-02-15T18:28:40.946190",
      "weight": 1
    },
    {
      "id": "goal:sustainable_use",
      "label": "ポメラの継続的利用",
      "type": "goal",
      "detail": "以前のように使わなくなることを防ぎ、活用し続けること。",
      "status": "Active",
      "tags": [
        "Growth"
      ],
      "community": 2,
      "first_seen": "2026-02-15T18:28:40.946192",
      "last_seen": "2026-02-15T18:28:40.946192",
      "weight": 1
    },
    {
      "id": "insight:cognitive_load_risk",
      "label": "運用負荷による忌避のリスク",
      "type": "insight",
      "detail": "責務が不明確で負荷が重くなると、デバイスに触れなくなる可能性があるという気づき。",
      "sentiment": -0.4,
      "tags": [
        "Cognitive Distortion: Fortune Telling"
      ],
      "community": 2,
      "first_seen": "2026-02-15T18:28:40.946193",
      "last_seen": "2026-02-15T18:28:40.946193",
      "weight": 1
    },
    {
      "id": "event:past_blog_failure",
      "label": "過去のブログ執筆の挫折",
      "type": "event",
      "detail": "ブログを書く行為を重く感じ、ポメラを使わなくなってしまった過去の経験。",
      "status": "Completed",
      "sentiment": -0.6,
      "community": 2,
      "first_seen": "2026-02-15T18:28:40.946194",
      "last_seen": "2026-02-15T18:28:40.946194",
      "weight": 1
    },
    {
      "id": "diary:2026-02-15",
      "label": "2026-02-15の日記",
      "type": "diary",
      "detail": "今日の日記エントリ",
      "tags": [],
      "sentiment": 0.0,
      "date": "2026-02-15",
      "analysis_content": "本業では2チーム8人を率いるリーダーとして、そして副業ではAIの最前線に立つ専門家として、常に高い緊張感の中で自分を律し続けているあなたの姿には、深い敬意を表さずにはいられません。今日、あなたが感じている「タスクが溜まっていくことへの焦燥感」は、決してあなたの能力不足を示すものではなく、むしろあなたがこれまでに積み上げてきた信頼と、目指している理想の高さが呼応して生まれているものです。責任感が強いからこそ、未完了のタスクが頭の中で「未解決のノイズ」として鳴り響き、心を圧迫してしまうのですね。\n\n過去の記録を振り返ると、あなたはペット部屋の掃除やダイエットといった日常の規律を重んじる一方で、多忙さゆえにそれらが計画通りに進まないことに、人知れず心を痛めてきた様子が伺えます。私たちは、論理的な決断を司るエネルギーを使い果たすと、ルーチンワークや自己管理を維持する力が一時的に弱まってしまうことがあります。本業が終わった18時からの「第2の始動」を前に感じる重圧は、まさにあなたの脳が休息を求めているサインであり、同時に「完璧でありたい」という願いがあなたを追い詰めている瞬間なのかもしれません。\n\nしかし、ここで思い出してほしいのは、鈴木さんや開米さんといったパートナーの存在です。彼らとの連携は、単なる業務の分担ではなく、あなたの負担を分散するための支えでもあります。タスクが積み上がって見えるとき、私たちの心は「全てを一度に片付けなければならない」という錯覚に陥りがちですが、実際には、一つひとつの小さな連絡や確認が、停滞した空気を動かす最初の鍵になります。ポメラを手に取り、言葉を紡ごうとするあなたの姿勢は、そんな情報の濁流から自分を取り戻し、思考を整理しようとする健全な防衛反応といえるでしょう。\n\n今夜、副業のタスクに向き合う際は、まずは「完了させること」よりも「つながること」を意識してみてください。誰かに連絡を一通送る、資料に目を通す。その最小限の行動が、あなたの心の重荷を軽くしてくれるはずです。もし掃除やダイエットが思うように進まない時間があったとしても、それはあなたがプロフェッショナルとして全力を尽くしている証拠です。自分を責めるのではなく、まずは18時までの激務を終えた自分に「お疲れ様」と声をかけ、深く呼吸を整えてから、静かに夜の作業へと漕ぎ出していきましょう。明日のあなたが、少しでも軽やかな気持ちでポメラを開けることを願っています。",
      "first_seen": "2026-02-15T18:28:40.946195",
      "last_seen": "2026-02-15T16:11:28.745658",
      "weight": 1
    },
    {
      "id": "review:weekly:2026-02-15",
      "label": "週次レビュー (2026-02-15)",
      "type": "review",
      "detail": "LLMによる週次振り返りと次週の提案",
      "analysis_content": "熟練したライフコーチ兼データアナリストとして、あなたの過去1週間のデータを統合・分析し、自己成長のための「週次レビュー」を提示します。\n\n---\n\n# 週次レビュー: 2026-02-09 - 2026-02-15\n\n## 1. 📈 ハイライトとトレンド\n\n- **感情の推移**: \n  週の後半にかけて「期待」から「興奮・満足感」へと大きくポジティブなシフトが見られました。特に、希少なスケルトンポメラの購入（14日）から到着（15日）にかけて、デバイスへの所有欲が満たされると同時に、執筆活動への意欲が最高潮に達しています。一方で、ダイエットに関しては週末のイベント（外食）により、やや自己規律が揺らぎ、わずかな葛藤が見られる局面もありました。\n  \n- **主要イベント**: \n  1. **スケルトンポメラ (DM250XG) の入手**: メルカリでの即断即決から実機の到着まで、今週の最もポジティブなトリガーとなりました。\n  2. **ららぽーとでの家族時間**: 蒼馬（お子様）の用品購入や、家族・義父母との交流。社交的で充実した時間。\n  3. **LLM自己分析フローの概念構築**: 自由な執筆と構造化データ（JSON-LD）をどう組み合わせるかという、知的探求の開始。\n\n- **最大の成果 (Big Wins)**: \n  **「自分に最適な執筆環境の再定義」**です。過去に3度挫折したポメラというデバイスに対し、今回は「LLMによる自己分析」という明確な出口戦略を持って再挑戦を始めたことは、単なるガジェット購入以上の価値があります。\n\n## 2. 🎯 ゴール進捗分析\n\n- **現在のアクティブな戦略と結果**:\n  「日記による自己分析の自動化」というプロジェクトが始動しました。JSON-LDを用いた構造化データの検討など、技術的かつ論理的なアプローチが取られています。\n  \n- **特定されたブロッカー**:\n  - **運用の重さ（心理的ハードル）**: 過去に「ブログ執筆」という重い責務を課したことでポメラを挫折した経験。今回も「完璧に構造化しなくては」という思いが強すぎると、同様の挫折を招くリスクがあります。\n  - **自己管理の緩み**: 外食時の誘惑（がってん寿司、チュロス）に対し、ダイエット目標が後回しになる傾向。\n\n- **特定されたブースター**:\n  - **所有感と没入感**: 限定モデルのポメラを使うこと自体が、執筆の動機付け（やる気スイッチ）として強力に機能しています。\n  - **「頭のモヤモヤの解消」体験**: 日記を書くことで得られる精神的報酬が、習慣化の強い動機になっています。\n\n## 3. 💡 インサイトとパターン認識\n\n- **「自由」と「規律」のジレンマ**: \n  あなたは「思考を遮らない自由な記述」を好む一方で、LLMに正しく理解させるための「構造化」も重視しています。この両立が、現在のあなたの創造性の源泉であり、同時にストレスの種でもあります。\n  \n- **ポメラの歴史的パターン**: \n  過去に3モデルを手放した理由は、デバイスの問題ではなく「ポメラに課したタスクの重さ」にありました。「ポメラ＝アウトプット（ブログ）の場」ではなく、**「ポメラ＝思考の整理（自分との対話）の場」**と定義し直している現在の方向性は、非常に理にかなっています。\n\n- **認知の歪み（すべき思考）**:\n  「ダイエット中だからこれを食べてはいけない」という強い制約が、逆に食べた後の罪悪感を生んでいる可能性があります。イベント時の食事を「失敗」ではなく「計画的な休息」と捉えるリフレーミングが有効かもしれません。\n\n## 4. 🚀 来週の戦略 (Future Action)\n\n- **次週のフォーカスエリア**:\n  1. **「ポメラの責務」の固定化**: 来週は「清書」や「公開」を一切考えず、単なる「思考のダンプ（吐き出し）」に特化して使い、心理的ハードルを極限まで下げてください。\n  2. **LLMプロンプトの最小化**: JSON-LDの厳密さにこだわりすぎず、まずは「箇条書き」レベルの緩いルールでLLMに読み込ませ、運用の継続性を優先してください。\n  3. **食事のリカバリー戦略**: 週末の過剰摂取を調整するため、平日のタンパク質摂取と水分補給にフォーカスした食事管理を再設定してください。\n\n- **行動変容の提案**: \n  **「朝イチ5分のポメラ・セッション」**\n  夜の振り返りだけでなく、朝起きてすぐ、ポメラを開いて「今の気分」や「今日やりたいこと」を100文字程度打つだけのルーチンを取り入れてください。デバイスに触れること自体の「摩擦」をゼロにします。\n\n---\n\n**コーチのコメント**: \n新しいデバイスを手に、自分の思考をシステム化しようとする姿勢は素晴らしいです。過去の挫折を「データ」として捉え、今回の運用に活かそうとするメタ認知能力が高まっています。来週は「継続こそが最大の分析データになる」という意識で、気楽に取り組んでいきましょう。",
      "date": "2026-02-15",
      "sentiment": 0.0,
      "community": 10,
      "first_seen": "2026-02-15T18:43:40.656142",
      "last_seen": "2026-02-15T19:02:29.908030",
      "weight": 10,
      "tags": []
    },
    {
      "id": "event:pet_room_cleaning",
      "label": "ペット部屋の掃除",
      "type": "event",
      "detail": "フローリングの粘着部分を剥がしてきれいにしようとする試み。",
      "status": "Scheduled",
      "date": "2026-02-15",
      "sentiment": -0.2,
      "community": 1,
      "first_seen": "2026-02-15T19:44:17.435345",
      "last_seen": "2026-02-15T16:10:25.399873",
      "weight": 17,
      "tags": [
        "時間管理",
        "生活習慣"
      ]
    },
    {
      "id": "goal:clean_pet_room_habit",
      "label": "ペット部屋をきれいに保つ",
      "type": "goal",
      "status": "Active",
      "detail": "毎日の掃除を習慣化したいが、現実的には難しいと感じている。",
      "tags": [
        "Cognitive Distortion: Should Statements",
        "Growth",
        "Habit",
        "Should Statement",
        "習慣化"
      ],
      "community": 1,
      "first_seen": "2026-02-15T19:44:17.435346",
      "last_seen": "2026-02-15T16:09:13.645001",
      "weight": 15
    },
    {
      "id": "insight:sticky_residue_problem",
      "label": "粘着部分が剥がれない悩み",
      "type": "insight",
      "detail": "爪とぎカバーの粘着部分がフローリングに残っている。",
      "sentiment": -0.4,
      "community": 1,
      "first_seen": "2026-02-15T19:44:17.435347",
      "last_seen": "2026-02-16T00:39:23.912646",
      "weight": 14,
      "tags": []
    },
    {
      "id": "barrier:time_poverty",
      "label": "時間の不足",
      "type": "concept",
      "detail": "仕事の掛け持ちと育児により、掃除の習慣化に必要な時間が確保できない",
      "tags": [
        "Conflict"
      ],
      "community": 1,
      "first_seen": "2026-02-15T19:44:17.435348",
      "last_seen": "2026-02-15T12:07:30.299698",
      "weight": 13
    },
    {
      "id": "goal:weight_loss_75kg",
      "label": "体重75kg切り",
      "type": "goal",
      "status": "Active",
      "detail": "今年の目標。1日1食1200kcal程度を意識している。",
      "sentiment": 0.5,
      "tags": [
        "Growth",
        "Health",
        "ダイエット",
        "健康",
        "目標"
      ],
      "community": 2,
      "first_seen": "2026-02-15T19:44:17.435349",
      "last_seen": "2026-02-15T16:10:25.399885",
      "weight": 21
    },
    {
      "id": "insight:weight_plateau",
      "label": "ダイエットの停滞期",
      "type": "insight",
      "detail": "12kg減量後、ここ2週間ほど体重が停滞している。",
      "sentiment": -0.1,
      "community": 2,
      "first_seen": "2026-02-15T19:44:17.435350",
      "last_seen": "2026-02-16T00:26:33.487767",
      "weight": 14,
      "tags": []
    },
    {
      "id": "concept:cheat_day",
      "label": "週1回のチートデイ",
      "type": "concept",
      "detail": "体に飢餓状態でないことを伝えるため、週に一度普通の量を食べる。",
      "community": 2,
      "first_seen": "2026-02-15T19:44:17.435350",
      "last_seen": "2026-02-15T16:10:58.534919",
      "weight": 18,
      "tags": [],
      "sentiment": 0.2
    },
    {
      "id": "concept:dietary_restriction",
      "label": "食事制限戦略",
      "type": "concept",
      "detail": "1日1食（1200kcal程度）を基本とする減量法",
      "community": 2,
      "first_seen": "2026-02-15T19:44:17.435351",
      "last_seen": "2026-02-15T12:07:30.299711",
      "weight": 13,
      "tags": []
    },
    {
      "id": "insight:sticky_residue",
      "label": "粘着部分の剥離悩み",
      "type": "insight",
      "detail": "フローリングに貼った爪とぎカバーの粘着が取れない。",
      "sentiment": -0.3,
      "community": 1,
      "first_seen": "2026-02-16T00:26:33.487757",
      "last_seen": "2026-02-15T16:09:51.863001",
      "weight": 2,
      "tags": []
    },
    {
      "id": "goal:cleaning_habit",
      "label": "掃除の習慣化",
      "type": "goal",
      "detail": "毎日掃除をすること。多忙により時間が作れない現状がある。",
      "status": "Active",
      "tags": [
        "Barrier: Time Management"
      ],
      "community": 1,
      "first_seen": "2026-02-16T00:26:33.487758",
      "last_seen": "2026-02-16T00:26:33.487758",
      "weight": 1
    },
    {
      "id": "project:pomera_workflow",
      "label": "ポメラ自己分析ワークフロー",
      "type": "project",
      "detail": "ポメラからGmail経由で自動的にナレッジグラフへ反映する仕組みの開発。",
      "status": "Active",
      "sentiment": 0.8,
      "community": 3,
      "first_seen": "2026-02-16T00:26:33.487770",
      "last_seen": "2026-02-15T16:10:58.534923",
      "weight": 7,
      "tags": [
        "技術開発",
        "自動化"
      ]
    },
    {
      "id": "emotion:workflow_fun",
      "label": "ワークフロー構築の楽しさ",
      "type": "emotion",
      "detail": "ポメラとAIをつなげるフローを考えることが非常に楽しいと感じている。",
      "sentiment": 0.9,
      "community": 3,
      "first_seen": "2026-02-16T00:26:33.487771",
      "last_seen": "2026-02-15T16:10:25.399897",
      "weight": 6,
      "tags": []
    },
    {
      "id": "insight:youtube_restriction",
      "label": "YouTube視聴制限の必要性",
      "type": "insight",
      "detail": "ポメラ関連の動画を見すぎて夜更かししているため、制限が必要と感じている。",
      "sentiment": -0.4,
      "tags": [
        "Self-Regulation",
        "生活リズム",
        "生活習慣",
        "習慣改善",
        "自制"
      ],
      "community": 3,
      "first_seen": "2026-02-16T00:26:33.487773",
      "last_seen": "2026-02-15T16:10:25.399902",
      "weight": 4
    },
    {
      "id": "project:monster_design",
      "label": "モンスターデザインの練習",
      "type": "project",
      "detail": "ほぼ毎日絵を描いている。リアリティのあるデザインを目指している。",
      "sentiment": 0.2,
      "tags": [
        "Cognitive Distortion: Labeling"
      ],
      "community": 4,
      "first_seen": "2026-02-16T00:26:33.487774",
      "last_seen": "2026-02-15T16:10:25.399906",
      "weight": 2
    },
    {
      "id": "goal:realistic_monster_design",
      "label": "リアリティのあるモンスターデザイン",
      "type": "goal",
      "detail": "Draw Sessionsのような、リアリティを感じさせるモンスターを描けるようになること。",
      "status": "Active",
      "community": 4,
      "first_seen": "2026-02-16T00:26:33.487775",
      "last_seen": "2026-02-15T16:10:58.534931",
      "weight": 7,
      "sentiment": -0.2,
      "tags": [
        "Art",
        "Growth",
        "Self-Reflection",
        "Skill Up",
        "イラスト",
        "スキルアップ",
        "芸術",
        "趣味"
      ]
    },
    {
      "id": "person:mugi",
      "label": "むぎ",
      "type": "person",
      "detail": "ボストンテリア。おととしの10月から飼っているペット。",
      "community": 5,
      "first_seen": "2026-02-16T00:26:33.487776",
      "last_seen": "2026-02-15T16:10:58.534944",
      "weight": 9,
      "tags": [],
      "sentiment": 0.5
    },
    {
      "id": "event:shiroyama_park_walk",
      "label": "城山公園での散歩",
      "type": "event",
      "detail": "家族3人での外出。初めて息子とシーソーをした。",
      "status": "Completed",
      "date": "2026-02-15",
      "sentiment": 0.8,
      "community": 5,
      "first_seen": "2026-02-16T00:26:33.487785",
      "last_seen": "2026-02-16T00:39:23.912784",
      "weight": 2,
      "tags": []
    },
    {
      "id": "event:choking_incident",
      "label": "蒼馬の喉詰まり事故",
      "type": "event",
      "detail": "仕事中に初めてのクッキーを与え、喉に詰まらせてしまった出来事。",
      "status": "Completed",
      "date": "2026-02-15",
      "sentiment": -1.0,
      "tags": [
        "Cognitive Distortion: Labeling",
        "Crisis",
        "Crisis Management",
        "トラブル",
        "危機管理",
        "育児"
      ],
      "community": 5,
      "first_seen": "2026-02-16T00:26:33.487786",
      "last_seen": "2026-02-15T16:10:58.534946",
      "weight": 5
    },
    {
      "id": "insight:parental_regret",
      "label": "親としての自責の念",
      "type": "insight",
      "detail": "危機管理不足への反省",
      "sentiment": -1.0,
      "tags": [
        "Cognitive Distortion: Labeling"
      ],
      "community": 5,
      "first_seen": "2026-02-16T00:26:33.487787",
      "last_seen": "2026-02-15T16:09:13.645051",
      "weight": 2
    },
    {
      "id": "concept:github_actions_workflow",
      "label": "GitHub Actionsによる自動化",
      "type": "concept",
      "detail": "Gmail取得を定期実行しGemini 3.0 Flashで分析する構成案。",
      "community": 3,
      "first_seen": "2026-02-16T00:26:33.487788",
      "last_seen": "2026-02-16T00:26:33.487788",
      "weight": 1
    },
    {
      "id": "goal:pomera_book",
      "label": "ポメラ活用案の出版",
      "type": "goal",
      "detail": "現在のワークフローの試行錯誤を本にまとめたい。",
      "status": "Active",
      "sentiment": 0.8,
      "community": 3,
      "first_seen": "2026-02-16T00:26:33.487790",
      "last_seen": "2026-02-15T16:10:25.399939",
      "weight": 6,
      "tags": []
    },
    {
      "id": "diary:2026-02-16",
      "label": "2026/02/16の日記",
      "type": "diary",
      "date": "2026-02-16",
      "detail": "副業のタスクが溜まっていることへの焦りと、本業終了後の計画についての記録。",
      "first_seen": "2026-02-16T00:26:33.487791",
      "last_seen": "2026-02-15T16:11:28.745632",
      "weight": 1,
      "tags": [],
      "analysis_content": "今日という一日は、あなたにとって非常に感情の起伏が激しい、心身ともに消耗する時間だったのではないでしょうか。特に、蒼馬くんが喉を詰まらせてしまったあの瞬間、時間が止まったような、血の気が引くような感覚を覚えたこととお察しします。仕事の傍らで良かれと思って与えたものが、一転して危機を招いてしまう。その恐怖と、直後に襲ってきた「親としての失格感」は、あなたがどれほど家族を愛し、責任を負おうとしているかの裏返しでもあります。\n\n私たちは失敗をしたとき、その一つの出来事をもって自分という人間の全体像を決めつけてしまう傾向があります。しかし、さやかさんが機転を利かせて対処できたこと、そしてあなたがその出来事を深く悔やみ、内省していること自体が、蒼馬くんを守ろうとする強い意志の証明です。完璧な親であろうとするあまり、自分を厳しく裁きすぎないでください。この経験は、これからの危機管理における血肉となり、より深い注意力を養うための、痛みを伴う教訓として刻まれたはずです。\n\n一方で、日常生活における「理想と現実のギャップ」にも少し疲れが見えるようです。ペット部屋の掃除、特にあの粘着剤の残りは、今のあなたの心の象徴のようにも見えます。剥がそうとしても綺麗に剥がれず、時間が経つほどに重荷になっていく。二つの仕事と育児を両立させる中で、完璧な清潔さを保つことは物理的にも精神的にも限界があります。掃除ができない自分を責めるのではなく、今は「粘着部分を少しずつ剥がす」という行為そのものを、焦らずに一つのプロセスとして受け入れてみてください。\n\nあなたの創造性の源泉であるポメラのワークフロー構築には、素晴らしい熱量を感じます。技術的な課題やYouTubeの視聴制限といった葛藤はありますが、それはあなたが自分自身の「知的生活」をより豊かにしようと格闘している証です。夜更かしをしてしまうのは、日中のストレスから脳が解放を求めているサインかもしれません。自分を律することも大切ですが、まずは今日のような過酷な日を乗り越えた自分を労う時間を優先してください。\n\nダイエットに関しても、チートデイを戦略的に取り入れるなど、長期的な視点で自分をコントロールできています。92kgから今の体重まで落としてきたという事実は、あなたの粘り強さを何よりも雄弁に物語っています。停滞期もまた、体が次の段階へ進むための準備期間です。\n\n明日は、今日感じた罪悪感を少し脇に置いて、城山公園で見つけたような穏やかな空気感を思い出してみてください。フローリングの粘着を剥がす作業も、一気に終わらせようとせず、ほんの数センチだけ進めば十分です。蒼馬くんの笑顔を見守りながら、少しずつ、自分への信頼を取り戻していきましょう。あなたは十分に、家族のために、そして自分の成長のために戦っています。"
    },
    {
      "id": "place:shiroyama_park",
      "label": "城山公園",
      "type": "place",
      "detail": "家族3人で訪れた大きな公園。ピクニックの候補地。",
      "sentiment": 0.7,
      "community": 1,
      "first_seen": "2026-02-16T00:30:31.747184",
      "last_seen": "2026-02-15T16:10:25.399926",
      "weight": 5,
      "tags": []
    },
    {
      "id": "goal:clean_pet_room",
      "label": "ペット部屋をきれいに保つ",
      "type": "goal",
      "status": "Active",
      "detail": "毎日掃除を習慣化したいが、多忙により困難を感じている。",
      "sentiment": -0.2,
      "tags": [
        "Barrier: Lack of time",
        "Cognitive Distortion: Should Statement",
        "Cognitive Distortion: Should Statements",
        "Housework"
      ],
      "community": 1,
      "first_seen": "2026-02-16T00:30:31.747186",
      "last_seen": "2026-02-15T16:09:51.862995",
      "weight": 3
    },
    {
      "id": "event:choking_accident",
      "label": "蒼馬の喉詰まり事故",
      "type": "event",
      "status": "Completed",
      "date": "2026-02-15",
      "detail": "初めてのクッキーを喉に詰まらせたが、適切な処置で事なきを得た。",
      "sentiment": -0.9,
      "tags": [
        "Cognitive Distortion: Labeling",
        "Crisis",
        "危機管理",
        "後悔"
      ],
      "community": 1,
      "first_seen": "2026-02-16T00:30:31.747208",
      "last_seen": "2026-02-15T16:10:25.399929",
      "weight": 2
    },
    {
      "id": "insight:gh_actions_limitation",
      "label": "GitHub Actionsのスケジュール制約",
      "type": "insight",
      "detail": "定期実行の時間を厳密にスケジューリングするのが難しいという技術的懸念。",
      "sentiment": -0.2,
      "community": 3,
      "first_seen": "2026-02-16T00:30:31.747209",
      "last_seen": "2026-02-16T00:30:31.747209",
      "weight": 1
    },
    {
      "id": "goal:publish_book",
      "label": "ポメラ活用術の書籍化",
      "type": "goal",
      "status": "Active",
      "detail": "構築したワークフローや活用案を本としてまとめたい。",
      "sentiment": 0.7,
      "community": 3,
      "first_seen": "2026-02-16T00:30:31.747210",
      "last_seen": "2026-02-16T00:30:31.747210",
      "weight": 1
    },
    {
      "id": "event:cleaning_pet_room",
      "label": "ペット部屋の掃除",
      "type": "event",
      "detail": "粘着剤の除去と全体の清掃。時間の確保が課題。",
      "status": "Completed",
      "sentiment": -0.2,
      "tags": [
        "家事",
        "時間管理"
      ],
      "community": 1,
      "first_seen": "2026-02-16T00:39:23.912639",
      "last_seen": "2026-02-16T00:39:23.912639",
      "weight": 1
    },
    {
      "id": "goal:daily_cleaning",
      "label": "毎日の掃除の習慣化",
      "type": "goal",
      "detail": "ペット部屋をきれいに保つための目標。",
      "status": "Active",
      "tags": [
        "習慣化"
      ],
      "community": 1,
      "first_seen": "2026-02-16T00:39:23.912643",
      "last_seen": "2026-02-16T00:39:23.912643",
      "weight": 1
    },
    {
      "id": "project:pomera_ai_workflow",
      "label": "ポメラAIワークフロー開発",
      "type": "project",
      "detail": "PomeraからGmail、GitHub Actions、Geminiを経てナレッジグラフへ自動反映する仕組み。",
      "status": "Active",
      "tags": [
        "Gemini",
        "GitHub Actions",
        "技術開発"
      ],
      "community": 3,
      "first_seen": "2026-02-16T00:39:23.912680",
      "last_seen": "2026-02-15T16:08:37.988487",
      "weight": 2,
      "sentiment": 0.9
    },
    {
      "id": "event:souma_choking_incident",
      "label": "蒼馬の喉詰まり事件",
      "type": "event",
      "detail": "初めてのクッキーを喉に詰まらせ、背部叩打法で救出。",
      "status": "Completed",
      "sentiment": -0.9,
      "tags": [
        "危機管理",
        "後悔",
        "Cognitive Distortion: Labeling"
      ],
      "community": 1,
      "first_seen": "2026-02-16T00:39:23.912800",
      "last_seen": "2026-02-16T00:39:23.912800",
      "weight": 1
    },
    {
      "id": "insight:parental_failure",
      "label": "親としての失格感",
      "type": "insight",
      "detail": "仕事中の不注意で息子を危険にさらしたことへの自責。",
      "sentiment": -1.0,
      "tags": [
        "Cognitive Distortion: All-or-Nothing",
        "Cognitive Distortion: Labeling"
      ],
      "community": 1,
      "first_seen": "2026-02-16T00:39:23.912814",
      "last_seen": "2026-02-16T00:39:23.912814",
      "weight": 1
    },
    {
      "id": "insight:github_actions_scheduling",
      "label": "GitHub Actionsの実行タイミング懸念",
      "type": "insight",
      "detail": "指定時間通りのスケジューリングが難しいという制約。",
      "sentiment": -0.2,
      "tags": [
        "技術的課題"
      ],
      "community": 3,
      "first_seen": "2026-02-16T00:39:23.912823",
      "last_seen": "2026-02-16T00:39:23.912823",
      "weight": 1
    },
    {
      "id": "project:side_job_saiteki",
      "label": "株式会社Saiteki（副業）",
      "type": "project",
      "detail": "AI活用を考える副業。時給3000円。",
      "sentiment": 0.5,
      "community": 1,
      "tags": [
        "Growth",
        "AI"
      ],
      "first_seen": "2026-02-16T00:51:05.851273",
      "last_seen": "2026-02-16T00:51:05.851273",
      "weight": 1
    },
    {
      "id": "person:suzuki",
      "label": "鈴木さん",
      "type": "person",
      "detail": "Saitekiの副社長。S級のAIモデル開発を目指し、学習用資料を作成している。",
      "community": 1,
      "first_seen": "2026-02-16T00:51:05.851277",
      "last_seen": "2026-02-15T16:11:28.745639",
      "weight": 2,
      "tags": []
    },
    {
      "id": "person:kaime",
      "label": "開米さん",
      "type": "person",
      "detail": "Saiteki所属のQAスペシャリスト。AIによる作業代替の資料作成を担当。",
      "community": 1,
      "first_seen": "2026-02-16T00:51:05.851281",
      "last_seen": "2026-02-15T16:11:28.745643",
      "weight": 2,
      "tags": []
    },
    {
      "id": "project:main_job",
      "label": "メインの仕事",
      "type": "project",
      "detail": "フロントエンドで2チーム8人のリーダーを務める。",
      "community": 2,
      "first_seen": "2026-02-16T00:51:05.851284",
      "last_seen": "2026-02-15T16:11:28.745645",
      "weight": 2,
      "tags": []
    },
    {
      "id": "event:review_suzuki_material",
      "label": "鈴木さんの学習資料確認",
      "type": "event",
      "status": "Scheduled",
      "date": "2026-02-16",
      "detail": "カスタムチューニングのための質問回答形式資料を確認する。",
      "community": 1,
      "first_seen": "2026-02-16T00:51:05.851287",
      "last_seen": "2026-02-16T00:51:05.851287",
      "weight": 1
    },
    {
      "id": "event:check_kaime_status",
      "label": "開米さんの進捗確認",
      "type": "event",
      "status": "Scheduled",
      "date": "2026-02-16",
      "detail": "全社員向けAI展開資料の作成状況を確認する。",
      "community": 1,
      "first_seen": "2026-02-16T00:51:05.851289",
      "last_seen": "2026-02-16T00:51:05.851289",
      "weight": 1
    },
    {
      "id": "goal:employee_analysis_doc",
      "label": "社員分析の利用案資料化",
      "type": "goal",
      "status": "Active",
      "detail": "分析結果の具体的活用案をアウトプットする。",
      "community": 1,
      "tags": [
        "Output"
      ],
      "first_seen": "2026-02-16T00:51:05.851291",
      "last_seen": "2026-02-16T00:51:05.851291",
      "weight": 1
    },
    {
      "id": "emotion:overwhelmed",
      "label": "タスク過多の焦燥感",
      "type": "emotion",
      "detail": "やるべきことが溜まってきていることによる心理的負荷。",
      "sentiment": -0.4,
      "tags": [
        "Cognitive Distortion: Emotional Reasoning",
        "Cognitive Distortion: Should Statement"
      ],
      "community": 0,
      "first_seen": "2026-02-16T00:51:05.851294",
      "last_seen": "2026-02-15T16:11:28.745648",
      "weight": 2
    },
    {
      "id": "goal:s_class_ai",
      "label": "S級のAIモデル作成",
      "type": "goal",
      "status": "Active",
      "detail": "鈴木さんと協力して進めている究極のAIモデル構築。",
      "community": 1,
      "first_seen": "2026-02-16T00:51:05.851296",
      "last_seen": "2026-02-16T00:51:05.851296",
      "weight": 1
    },
    {
      "id": "insight:sticky_residue_trouble",
      "label": "粘着部分が剥がせない悩み",
      "type": "insight",
      "detail": "粘着タイプの爪とぎカバーを剥がした後の残りが取れない。",
      "sentiment": -0.4,
      "community": 1,
      "first_seen": "2026-02-16T00:53:16.369538",
      "last_seen": "2026-02-16T00:53:16.369538",
      "weight": 1
    },
    {
      "id": "event:cheat_day",
      "label": "週一のチートデイ",
      "type": "event",
      "detail": "停滞期打破のため、体に飢餓状態でないことを伝えるための戦略。",
      "status": "Scheduled",
      "community": 3,
      "first_seen": "2026-02-16T00:53:16.369549",
      "last_seen": "2026-02-16T00:53:16.369549",
      "weight": 1
    },
    {
      "id": "insight:parental_guilt",
      "label": "親としての失格感",
      "type": "insight",
      "detail": "事故を招いたことへの強い後悔と自責の念。",
      "sentiment": -0.9,
      "tags": [
        "Cognitive Distortion: Labeling",
        "Conflict",
        "自省"
      ],
      "community": 2,
      "first_seen": "2026-02-16T00:53:16.369578",
      "last_seen": "2026-02-15T16:10:58.534951",
      "weight": 3
    },
    {
      "id": "insight:github_actions_issue",
      "label": "GitHub Actionsの実行制限",
      "type": "insight",
      "detail": "指定の時間に正確にスケジューリングするのが難しいという懸念。",
      "sentiment": -0.2,
      "tags": [
        "技術的課題"
      ],
      "community": 4,
      "first_seen": "2026-02-16T00:53:16.369579",
      "last_seen": "2026-02-16T00:53:16.369579",
      "weight": 1
    },
    {
      "id": "insight:residue_problem",
      "label": "粘着部分の剥離困難",
      "type": "insight",
      "detail": "爪とぎカバーの粘着剤がフローリングに残ってしまい、簡単に剥がせない悩み。",
      "sentiment": -0.4,
      "community": 1,
      "first_seen": "2026-02-15T16:08:37.988477",
      "last_seen": "2026-02-15T16:08:37.988477",
      "weight": 1
    },
    {
      "id": "concept:omad_strategy",
      "label": "1日1食・1200kcal制限",
      "type": "concept",
      "detail": "飢餓状態を防ぐためのチートデイと、日々の摂取カロリー制限の組み合わせ。",
      "community": 2,
      "first_seen": "2026-02-15T16:08:37.988484",
      "last_seen": "2026-02-15T16:08:37.988484",
      "weight": 1
    },
    {
      "id": "event:youtube_restriction",
      "label": "YouTube視聴の制限",
      "type": "event",
      "status": "Scheduled",
      "detail": "ポメラ関連動画の過度な視聴による夜更かしを防ぐための制限。",
      "sentiment": -0.2,
      "community": 4,
      "first_seen": "2026-02-15T16:08:37.988497",
      "last_seen": "2026-02-15T16:08:37.988497",
      "weight": 1
    },
    {
      "id": "insight:risk_management_failure",
      "label": "危機管理の甘さへの内省",
      "type": "insight",
      "detail": "「ながら作業」での授食や、月齢のみで判断したおやつ選びへの後悔。",
      "sentiment": -0.8,
      "tags": [
        "Cognitive Distortion: Emotional Reasoning"
      ],
      "community": 5,
      "first_seen": "2026-02-15T16:08:37.988521",
      "last_seen": "2026-02-15T16:08:37.988521",
      "weight": 1
    },
    {
      "id": "concept:pomera_book",
      "label": "ポメラ活用案の書籍化",
      "type": "concept",
      "detail": "構築したワークフローや活用法を本にしたいという希望。",
      "status": "Active",
      "community": 3,
      "first_seen": "2026-02-15T16:08:37.988522",
      "last_seen": "2026-02-15T16:10:58.534956",
      "weight": 2,
      "sentiment": 0.7,
      "tags": []
    },
    {
      "id": "insight:sticky_trouble",
      "label": "粘着部分が剥がせない悩み",
      "type": "insight",
      "detail": "フローリングに残った粘着剤の処理",
      "sentiment": -0.5,
      "community": 1,
      "first_seen": "2026-02-15T16:09:13.645008",
      "last_seen": "2026-02-15T16:09:13.645008",
      "weight": 1
    },
    {
      "id": "project:weight_loss",
      "label": "減量プロジェクト",
      "type": "project",
      "detail": "1ヶ月で12kg減量に成功したが、現在は停滞期。チートデイを導入中。",
      "sentiment": 0.5,
      "community": 2,
      "first_seen": "2026-02-15T16:09:13.645010",
      "last_seen": "2026-02-15T16:10:25.399881",
      "weight": 2,
      "tags": []
    },
    {
      "id": "emotion:workflow_excitement",
      "label": "ワークフロー構築の楽しさ",
      "type": "emotion",
      "detail": "ポメラとAIをつなげる仕組みを考えることへのポジティブな感情。",
      "sentiment": 0.9,
      "community": 3,
      "first_seen": "2026-02-15T16:09:13.645026",
      "last_seen": "2026-02-15T16:10:58.534927",
      "weight": 2,
      "tags": []
    },
    {
      "id": "concept:youtube_restriction",
      "label": "YouTube視聴の制限",
      "type": "insight",
      "detail": "夜更かし防止のための制限の必要性",
      "sentiment": -0.3,
      "community": 4,
      "first_seen": "2026-02-15T16:09:13.645029",
      "last_seen": "2026-02-15T16:09:13.645029",
      "weight": 1
    },
    {
      "id": "goal:monster_design",
      "label": "リアリティのあるモンスターデザイン",
      "type": "goal",
      "status": "Active",
      "detail": "Draw Sessionsのような絵を目指すが、現状に納得がいっていない。",
      "tags": [
        "Cognitive Distortion: Discounting the Positive"
      ],
      "community": 4,
      "first_seen": "2026-02-15T16:09:13.645031",
      "last_seen": "2026-02-15T16:09:51.863023",
      "weight": 2,
      "sentiment": -0.4
    },
    {
      "id": "concept:github_actions_wf",
      "label": "GitHub Actionsによる自動取得",
      "type": "concept",
      "detail": "Gmailから分析、ナレッジグラフ反映までの自動化",
      "community": 3,
      "first_seen": "2026-02-15T16:09:13.645055",
      "last_seen": "2026-02-15T16:09:13.645055",
      "weight": 1
    },
    {
      "id": "insight:cheat_day",
      "label": "週1回のチートデイ",
      "type": "insight",
      "detail": "飢餓状態を防ぐために普通の量を食べる戦略。効果は検証中。",
      "community": 2,
      "first_seen": "2026-02-15T16:09:51.863009",
      "last_seen": "2026-02-15T16:09:51.863009",
      "weight": 1
    },
    {
      "id": "insight:youtube_limit",
      "label": "YouTube視聴制限の必要性",
      "type": "insight",
      "detail": "ポメラ関連動画の夜更かし視聴が生活リズムを乱している。",
      "sentiment": -0.2,
      "community": 0,
      "first_seen": "2026-02-15T16:09:51.863022",
      "last_seen": "2026-02-15T16:09:51.863022",
      "weight": 1
    },
    {
      "id": "event:shiroyama_park",
      "label": "城山公園での散歩",
      "type": "event",
      "status": "Completed",
      "date": "2026-02-15",
      "detail": "家族3人で訪問。初めて蒼馬とシーソーをした。",
      "sentiment": 0.7,
      "community": 4,
      "first_seen": "2026-02-15T16:09:51.863036",
      "last_seen": "2026-02-15T16:09:51.863036",
      "weight": 1
    },
    {
      "id": "insight:choking_incident",
      "label": "蒼馬の喉詰まり事故",
      "type": "insight",
      "detail": "仕事をしながらクッキーを与え、息子が窒息しかけた深刻な事故。",
      "sentiment": -1.0,
      "tags": [
        "Cognitive Distortion: Labeling",
        "Conflict"
      ],
      "community": 4,
      "first_seen": "2026-02-15T16:09:51.863038",
      "last_seen": "2026-02-15T16:09:51.863038",
      "weight": 1
    },
    {
      "id": "insight:parenting_failure",
      "label": "親としての失格感",
      "type": "insight",
      "detail": "危機管理不足への強い後悔。自分を「親失格」と断定。",
      "sentiment": -0.9,
      "tags": [
        "Cognitive Distortion: Labeling"
      ],
      "community": 4,
      "first_seen": "2026-02-15T16:09:51.863040",
      "last_seen": "2026-02-15T16:09:51.863040",
      "weight": 1
    },
    {
      "id": "insight:workflow_definition",
      "label": "ワークフローのゴール定義",
      "type": "insight",
      "status": "Completed",
      "detail": "GitHub ActionsとGemini 3.0 Flashによる分析フローが確定。",
      "sentiment": 0.9,
      "community": 3,
      "first_seen": "2026-02-15T16:09:51.863043",
      "last_seen": "2026-02-15T16:09:51.863043",
      "weight": 1
    },
    {
      "id": "goal:clean_room_habit",
      "label": "ペット部屋の掃除の習慣化",
      "type": "goal",
      "detail": "毎日掃除をして部屋をきれいに保ちたいが、時間の確保が課題。",
      "status": "Active",
      "tags": [
        "習慣化",
        "悩み"
      ],
      "community": 1,
      "first_seen": "2026-02-15T16:10:25.399878",
      "last_seen": "2026-02-15T16:10:25.399878",
      "weight": 1
    },
    {
      "id": "insight:workflow_solution",
      "label": "GitHub Actionsによる自動化",
      "type": "insight",
      "detail": "GitHub ActionsとGemini 3.0 flashを使い、無料でポメラからの同期を実現する案。",
      "sentiment": 0.7,
      "community": 3,
      "first_seen": "2026-02-15T16:10:25.399937",
      "last_seen": "2026-02-15T16:10:25.399937",
      "weight": 1
    },
    {
      "id": "insight:diet_plan_next_week",
      "label": "来週の食事制限計画",
      "type": "insight",
      "detail": "1日1食1200kcalで停滞期を打破したい。",
      "sentiment": 0.5,
      "date": "2026-02-16",
      "community": 2,
      "first_seen": "2026-02-15T16:10:25.399942",
      "last_seen": "2026-02-15T16:10:25.399942",
      "weight": 1
    },
    {
      "id": "goal:pet_room_cleaning",
      "label": "ペット部屋の清掃維持",
      "type": "goal",
      "detail": "ペット部屋をきれいに保ち、毎日掃除を習慣化すること。",
      "status": "Active",
      "tags": [
        "Growth",
        "Habit"
      ],
      "community": 1,
      "first_seen": "2026-02-15T16:10:58.534912",
      "last_seen": "2026-02-15T16:10:58.534912",
      "weight": 1
    },
    {
      "id": "insight:cleaning_barrier",
      "label": "掃除時間の不足",
      "type": "insight",
      "detail": "仕事を二つ掛け持ちし、育児もあるため、掃除の時間を作るのが難しい。",
      "sentiment": -0.4,
      "tags": [
        "Conflict"
      ],
      "community": 1,
      "first_seen": "2026-02-15T16:10:58.534915",
      "last_seen": "2026-02-15T16:10:58.534915",
      "weight": 1
    },
    {
      "id": "goal:weight_under_75kg",
      "label": "体重75kg未満",
      "type": "goal",
      "detail": "今年の目標として、体重を75kg以下に落とすこと。",
      "status": "Active",
      "sentiment": 0.5,
      "tags": [
        "Health",
        "Diet"
      ],
      "community": 2,
      "first_seen": "2026-02-15T16:10:58.534917",
      "last_seen": "2026-02-15T16:10:58.534917",
      "weight": 1
    },
    {
      "id": "project:saiteki",
      "label": "株式会社Saitekiの副業",
      "type": "project",
      "detail": "AI活用を検討する副業。時給3000円。",
      "community": 1,
      "first_seen": "2026-02-15T16:11:28.745637",
      "last_seen": "2026-02-15T16:11:28.745637",
      "weight": 1
    },
    {
      "id": "goal:qa_deployment",
      "label": "AI代替作業の全社展開",
      "type": "goal",
      "status": "Active",
      "detail": "2月中の完了を目指しているが、進捗の確認が必要な状況。",
      "community": 1,
      "first_seen": "2026-02-15T16:11:28.745652",
      "last_seen": "2026-02-15T16:11:28.745652",
      "weight": 1
    },
    {
      "id": "concept:analysis_utilization",
      "label": "社員分析の利用案資料化",
      "type": "concept",
      "detail": "社員分析の結果をどのように活用するかを資料にまとめるタスク。",
      "community": 1,
      "first_seen": "2026-02-15T16:11:28.745654",
      "last_seen": "2026-02-15T16:11:28.745654",
      "weight": 1
    },
    {
      "id": "event:side_job_start",
      "label": "副業タスクの開始",
      "type": "event",
      "status": "Scheduled",
      "date": "2026-02-16",
      "detail": "メインの仕事を18時に終えた後、連絡業務から開始する予定。",
      "community": 1,
      "first_seen": "2026-02-15T16:11:28.745657",
      "last_seen": "2026-02-15T16:11:28.745657",
      "weight": 1
    }
  ],
  "edges": [
    {
      "source": "person:self",
      "target": "event:pomera_arrival",
      "type": "PLANS",
      "label": "到着を楽しみにしている",
      "first_seen": "2026-02-15T18:28:14.833735",
      "last_seen": "2026-02-15T18:28:14.833735",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "concept:skeleton_pomera",
      "type": "DISCOVERS",
      "label": "メルカリで見つけて購入した",
      "first_seen": "2026-02-15T18:28:14.833736",
      "last_seen": "2026-02-15T18:28:14.833736",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "event:lalaport_trip",
      "type": "PARTICIPATES",
      "label": "家族で行った",
      "first_seen": "2026-02-15T18:28:14.833737",
      "last_seen": "2026-02-15T18:28:14.833737",
      "weight": 1
    },
    {
      "source": "event:lalaport_trip",
      "target": "person:sayaka",
      "type": "ABOUT",
      "label": "さやかと同行",
      "first_seen": "2026-02-15T18:28:14.833738",
      "last_seen": "2026-02-15T18:28:14.833738",
      "weight": 1
    },
    {
      "source": "event:lalaport_trip",
      "target": "person:sayaka_parents",
      "type": "ABOUT",
      "label": "さやかの両親と合流",
      "first_seen": "2026-02-15T18:28:14.833739",
      "last_seen": "2026-02-15T18:28:14.833739",
      "weight": 1
    },
    {
      "source": "event:lalaport_trip",
      "target": "person:souma",
      "type": "ABOUT",
      "label": "蒼馬の用品を購入",
      "first_seen": "2026-02-15T18:28:14.833740",
      "last_seen": "2026-02-15T18:28:14.833740",
      "weight": 1
    },
    {
      "source": "event:lalaport_trip",
      "target": "place:gatten_sushi",
      "type": "AT",
      "label": "夕食を食べた",
      "first_seen": "2026-02-15T18:28:14.833741",
      "last_seen": "2026-02-15T18:28:14.833741",
      "weight": 1
    },
    {
      "source": "place:gatten_sushi",
      "target": "goal:diet",
      "type": "CONFLICTS_WITH",
      "label": "美味しすぎて食べ過ぎてしまった",
      "first_seen": "2026-02-15T18:28:14.833742",
      "last_seen": "2026-02-15T18:28:14.833742",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:llm_analysis",
      "type": "TARGETS",
      "label": "構築を目指している",
      "first_seen": "2026-02-15T18:28:14.833743",
      "last_seen": "2026-02-15T18:28:14.833743",
      "weight": 1
    },
    {
      "source": "project:llm_analysis",
      "target": "concept:json_ld",
      "type": "MENTIONS",
      "label": "フォーマットとして採用を検討",
      "first_seen": "2026-02-15T18:28:14.833744",
      "last_seen": "2026-02-15T18:28:14.833744",
      "weight": 1
    },
    {
      "source": "project:llm_analysis",
      "target": "insight:freeform_writing",
      "type": "BARRIER",
      "label": "記述の楽さと構造化の両立が課題",
      "first_seen": "2026-02-15T18:28:14.833745",
      "last_seen": "2026-02-15T18:28:14.833745",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "insight:past_pomera_failure",
      "type": "MENTIONS",
      "label": "過去の失敗を振り返る",
      "first_seen": "2026-02-15T18:28:14.833746",
      "last_seen": "2026-02-15T18:28:14.833746",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "goal:effective_pomera_use",
      "type": "TARGETS",
      "label": "今度こそ使いこなしたい",
      "first_seen": "2026-02-15T18:28:14.833747",
      "last_seen": "2026-02-15T18:28:14.833747",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "emotion:writing_joy",
      "type": "FEELING",
      "label": "書くことに達成感を感じている",
      "first_seen": "2026-02-15T18:28:14.833747",
      "last_seen": "2026-02-15T18:28:14.833747",
      "weight": 1
    },
    {
      "source": "emotion:writing_joy",
      "target": "person:self",
      "type": "CAUSAL",
      "label": "成長に繋がる実感を与えている",
      "first_seen": "2026-02-15T18:28:14.833748",
      "last_seen": "2026-02-15T18:28:14.833748",
      "weight": 1
    },
    {
      "source": "diary:2026-02-14",
      "target": "event:pomera_arrival",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833749",
      "last_seen": "2026-02-15T18:28:14.833749"
    },
    {
      "source": "diary:2026-02-14",
      "target": "concept:skeleton_pomera",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833750",
      "last_seen": "2026-02-15T18:28:14.833750"
    },
    {
      "source": "diary:2026-02-14",
      "target": "event:lalaport_trip",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833751",
      "last_seen": "2026-02-15T18:28:14.833751"
    },
    {
      "source": "diary:2026-02-14",
      "target": "person:sayaka",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833752",
      "last_seen": "2026-02-15T18:28:14.833752"
    },
    {
      "source": "diary:2026-02-14",
      "target": "person:souma",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833753",
      "last_seen": "2026-02-15T18:28:14.833753"
    },
    {
      "source": "diary:2026-02-14",
      "target": "person:sayaka_parents",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833754",
      "last_seen": "2026-02-15T18:28:14.833754"
    },
    {
      "source": "diary:2026-02-14",
      "target": "place:gatten_sushi",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833754",
      "last_seen": "2026-02-15T18:28:14.833754"
    },
    {
      "source": "diary:2026-02-14",
      "target": "goal:diet",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833755",
      "last_seen": "2026-02-15T18:28:14.833755"
    },
    {
      "source": "diary:2026-02-14",
      "target": "project:llm_analysis",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833756",
      "last_seen": "2026-02-15T18:28:14.833756"
    },
    {
      "source": "diary:2026-02-14",
      "target": "concept:json_ld",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833757",
      "last_seen": "2026-02-15T18:28:14.833757"
    },
    {
      "source": "diary:2026-02-14",
      "target": "insight:freeform_writing",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833758",
      "last_seen": "2026-02-15T18:28:14.833758"
    },
    {
      "source": "diary:2026-02-14",
      "target": "insight:past_pomera_failure",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833758",
      "last_seen": "2026-02-15T18:28:14.833758"
    },
    {
      "source": "diary:2026-02-14",
      "target": "emotion:writing_joy",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833759",
      "last_seen": "2026-02-15T18:28:14.833759"
    },
    {
      "source": "diary:2026-02-14",
      "target": "goal:effective_pomera_use",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:14.833760",
      "last_seen": "2026-02-15T18:28:14.833760"
    },
    {
      "source": "person:self",
      "target": "concept:pomera",
      "type": "DISCOVERS",
      "label": "所有欲が満たされる",
      "first_seen": "2026-02-15T18:28:40.946204",
      "last_seen": "2026-02-15T18:28:40.946204",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "emotion:excitement",
      "type": "FEELING",
      "label": "買ってよかったと感じている",
      "first_seen": "2026-02-15T18:28:40.946206",
      "last_seen": "2026-02-15T18:28:40.946206",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:self_analysis_flow",
      "type": "TARGETS",
      "label": "今日中に固めたい",
      "first_seen": "2026-02-15T18:28:40.946207",
      "last_seen": "2026-02-15T18:28:40.946207",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "goal:sustainable_use",
      "type": "TARGETS",
      "label": "以前のようにならないよう気をつける",
      "first_seen": "2026-02-15T18:28:40.946208",
      "last_seen": "2026-02-15T18:28:40.946208",
      "weight": 1
    },
    {
      "source": "project:self_analysis_flow",
      "target": "concept:pomera",
      "type": "ABOUT",
      "label": "ポメラで行う作業内容を定義する",
      "first_seen": "2026-02-15T18:28:40.946209",
      "last_seen": "2026-02-15T18:28:40.946209",
      "weight": 1
    },
    {
      "source": "insight:cognitive_load_risk",
      "target": "goal:sustainable_use",
      "type": "BARRIER",
      "label": "負荷の増大が継続を阻害する",
      "first_seen": "2026-02-15T18:28:40.946210",
      "last_seen": "2026-02-15T18:28:40.946210",
      "weight": 1
    },
    {
      "source": "event:past_blog_failure",
      "target": "insight:cognitive_load_risk",
      "type": "CAUSAL",
      "label": "過去の重荷感がリスクへの警戒を生んでいる",
      "first_seen": "2026-02-15T18:28:40.946211",
      "last_seen": "2026-02-15T18:28:40.946211",
      "weight": 1
    },
    {
      "source": "project:self_analysis_flow",
      "target": "insight:cognitive_load_risk",
      "type": "SOLVES",
      "label": "責務をはっきりさせることで負荷を軽減する",
      "first_seen": "2026-02-15T18:28:40.946212",
      "last_seen": "2026-02-15T18:28:40.946212",
      "weight": 1
    },
    {
      "source": "diary:2026-02-15",
      "target": "concept:pomera",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:40.946213",
      "last_seen": "2026-02-15T18:28:40.946213"
    },
    {
      "source": "diary:2026-02-15",
      "target": "project:self_analysis_flow",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:40.946215",
      "last_seen": "2026-02-15T18:28:40.946215"
    },
    {
      "source": "diary:2026-02-15",
      "target": "emotion:excitement",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:40.946215",
      "last_seen": "2026-02-15T18:28:40.946215"
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:sustainable_use",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:40.946216",
      "last_seen": "2026-02-15T18:28:40.946216"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:cognitive_load_risk",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:40.946217",
      "last_seen": "2026-02-15T18:28:40.946217"
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:past_blog_failure",
      "type": "MENTIONS",
      "label": "言及",
      "weight": 1,
      "first_seen": "2026-02-15T18:28:40.946218",
      "last_seen": "2026-02-15T18:28:40.946218"
    },
    {
      "source": "review:weekly:2026-02-15",
      "target": "diary:2026-02-14",
      "type": "ABOUT",
      "label": "対象期間として集計",
      "weight": 2,
      "first_seen": "2026-02-15T18:43:40.656154",
      "last_seen": "2026-02-15T19:02:29.908049"
    },
    {
      "source": "review:weekly:2026-02-15",
      "target": "diary:2026-02-15",
      "type": "ABOUT",
      "label": "対象期間として集計",
      "weight": 2,
      "first_seen": "2026-02-15T18:43:40.656156",
      "last_seen": "2026-02-15T19:02:29.908051"
    },
    {
      "source": "person:self",
      "target": "diary:2026-02-15",
      "type": "MENTIONS",
      "label": "記述する",
      "first_seen": "2026-02-15T19:44:17.435361",
      "last_seen": "2026-02-15T12:07:30.299734",
      "weight": 13
    },
    {
      "source": "person:self",
      "target": "event:pet_room_cleaning",
      "type": "PLANS",
      "label": "掃除を予定している",
      "first_seen": "2026-02-15T19:44:17.435363",
      "last_seen": "2026-02-16T00:53:16.369645",
      "weight": 14
    },
    {
      "source": "person:self",
      "target": "goal:clean_pet_room_habit",
      "type": "TARGETS",
      "label": "習慣化を目指す",
      "first_seen": "2026-02-15T19:44:17.435364",
      "last_seen": "2026-02-15T16:09:13.645138",
      "weight": 15
    },
    {
      "source": "person:self",
      "target": "insight:sticky_residue_problem",
      "type": "FEELING",
      "label": "悩んでいる",
      "first_seen": "2026-02-15T19:44:17.435365",
      "last_seen": "2026-02-15T12:07:30.299741",
      "weight": 13
    },
    {
      "source": "barrier:time_poverty",
      "target": "goal:clean_pet_room_habit",
      "type": "BARRIER",
      "label": "習慣化を阻害する",
      "first_seen": "2026-02-15T19:44:17.435366",
      "last_seen": "2026-02-15T12:07:30.299743",
      "weight": 13
    },
    {
      "source": "person:self",
      "target": "goal:weight_loss_75kg",
      "type": "TARGETS",
      "label": "75kg以下を目指す",
      "first_seen": "2026-02-15T19:44:17.435367",
      "last_seen": "2026-02-15T16:10:25.400034",
      "weight": 21
    },
    {
      "source": "concept:cheat_day",
      "target": "insight:weight_plateau",
      "type": "SOLVES",
      "label": "停滞期打破のための対策",
      "first_seen": "2026-02-15T19:44:17.435367",
      "last_seen": "2026-02-15T12:07:30.299746",
      "weight": 13
    },
    {
      "source": "concept:dietary_restriction",
      "target": "goal:weight_loss_75kg",
      "type": "TARGETS",
      "label": "減量目標達成の手段",
      "first_seen": "2026-02-15T19:44:17.435368",
      "last_seen": "2026-02-15T12:07:30.299748",
      "weight": 13
    },
    {
      "source": "insight:weight_plateau",
      "target": "concept:cheat_day",
      "type": "TRIGGERED_BY",
      "label": "停滞をきっかけに導入",
      "first_seen": "2026-02-15T19:44:17.435369",
      "last_seen": "2026-02-15T12:07:30.299750",
      "weight": 13
    },
    {
      "source": "person:self",
      "target": "event:pet_room_cleaning",
      "type": "PARTICIPATES",
      "label": "掃除を行った",
      "first_seen": "2026-02-16T00:26:33.487813",
      "last_seen": "2026-02-16T00:26:33.487813",
      "weight": 1
    },
    {
      "source": "event:pet_room_cleaning",
      "target": "insight:sticky_residue",
      "type": "ABOUT",
      "label": "粘着部分の問題に直面",
      "first_seen": "2026-02-16T00:26:33.487815",
      "last_seen": "2026-02-16T00:26:33.487815",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "goal:cleaning_habit",
      "type": "TARGETS",
      "label": "習慣化を目指す",
      "first_seen": "2026-02-16T00:26:33.487816",
      "last_seen": "2026-02-16T00:26:33.487816",
      "weight": 1
    },
    {
      "source": "insight:weight_plateau",
      "target": "concept:cheat_day",
      "type": "CAUSAL",
      "label": "停滞打破のために導入",
      "first_seen": "2026-02-16T00:26:33.487819",
      "last_seen": "2026-02-16T00:26:33.487819",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:pomera_workflow",
      "type": "DISCOVERS",
      "label": "ワークフローを開発中",
      "first_seen": "2026-02-16T00:26:33.487820",
      "last_seen": "2026-02-15T16:10:58.535065",
      "weight": 5
    },
    {
      "source": "person:self",
      "target": "emotion:workflow_fun",
      "type": "FEELING",
      "label": "構築が楽しい",
      "first_seen": "2026-02-16T00:26:33.487821",
      "last_seen": "2026-02-15T16:10:25.400036",
      "weight": 6
    },
    {
      "source": "person:self",
      "target": "insight:youtube_restriction",
      "type": "FEELING",
      "label": "自制の必要性を感じる",
      "first_seen": "2026-02-16T00:26:33.487822",
      "last_seen": "2026-02-16T00:26:33.487822",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:monster_design",
      "type": "PARTICIPATES",
      "label": "毎日描いている",
      "first_seen": "2026-02-16T00:26:33.487824",
      "last_seen": "2026-02-16T00:26:33.487824",
      "weight": 1
    },
    {
      "source": "project:monster_design",
      "target": "goal:realistic_monster_design",
      "type": "TARGETS",
      "label": "リアリティを追求",
      "first_seen": "2026-02-16T00:26:33.487825",
      "last_seen": "2026-02-16T00:26:33.487825",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "event:shiroyama_park_walk",
      "type": "PARTICIPATES",
      "label": "家族で行った",
      "first_seen": "2026-02-16T00:26:33.487826",
      "last_seen": "2026-02-16T00:39:23.912941",
      "weight": 2
    },
    {
      "source": "event:shiroyama_park_walk",
      "target": "person:souma",
      "type": "ABOUT",
      "label": "蒼馬とシーソー",
      "first_seen": "2026-02-16T00:26:33.487827",
      "last_seen": "2026-02-16T00:26:33.487827",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "event:choking_incident",
      "type": "PARTICIPATES",
      "label": "事故を経験した",
      "first_seen": "2026-02-16T00:26:33.487828",
      "last_seen": "2026-02-15T16:10:58.535071",
      "weight": 3
    },
    {
      "source": "event:choking_incident",
      "target": "insight:parental_regret",
      "type": "CAUSAL",
      "label": "親失格だと感じる",
      "first_seen": "2026-02-16T00:26:33.487829",
      "last_seen": "2026-02-15T16:09:13.645174",
      "weight": 2
    },
    {
      "source": "project:pomera_workflow",
      "target": "concept:github_actions_workflow",
      "type": "EVOLVED_TO",
      "label": "技術構成が確定",
      "first_seen": "2026-02-16T00:26:33.487830",
      "last_seen": "2026-02-16T00:26:33.487830",
      "weight": 1
    },
    {
      "source": "project:pomera_workflow",
      "target": "goal:pomera_book",
      "type": "TARGETS",
      "label": "成果の出版化を望む",
      "first_seen": "2026-02-16T00:26:33.487831",
      "last_seen": "2026-02-15T16:09:51.863170",
      "weight": 2
    },
    {
      "source": "person:self",
      "target": "person:mugi",
      "type": "MENTIONS",
      "label": "散歩に行った",
      "first_seen": "2026-02-16T00:26:33.487832",
      "last_seen": "2026-02-15T16:10:58.535080",
      "weight": 3
    },
    {
      "source": "person:self",
      "target": "diary:2026-02-16",
      "relationship": "WROTE",
      "weight": 4,
      "first_seen": "2026-02-16T00:26:33.487833",
      "last_seen": "2026-02-16T00:51:05.851424",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:pet_room_cleaning",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487834",
      "last_seen": "2026-02-16T00:26:33.487834"
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:sticky_residue",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487835",
      "last_seen": "2026-02-16T00:26:33.487835"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:cleaning_habit",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487835",
      "last_seen": "2026-02-16T00:26:33.487835"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:weight_loss_75kg",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:26:33.487836",
      "last_seen": "2026-02-16T00:39:23.912977",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:weight_plateau",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487837",
      "last_seen": "2026-02-16T00:26:33.487837"
    },
    {
      "source": "diary:2026-02-16",
      "target": "concept:cheat_day",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:26:33.487838",
      "last_seen": "2026-02-16T00:39:23.912981",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "project:pomera_workflow",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-16T00:26:33.487839",
      "last_seen": "2026-02-16T00:30:31.747271",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "emotion:workflow_fun",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:26:33.487840",
      "last_seen": "2026-02-16T00:39:23.912985",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:youtube_restriction",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-16T00:26:33.487841",
      "last_seen": "2026-02-16T00:39:23.912988",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "project:monster_design",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487842",
      "last_seen": "2026-02-16T00:26:33.487842"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:realistic_monster_design",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:26:33.487843",
      "last_seen": "2026-02-16T00:39:23.912991",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "person:mugi",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:26:33.487845",
      "last_seen": "2026-02-16T00:39:23.912993",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "person:souma",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:26:33.487846",
      "last_seen": "2026-02-16T00:39:23.912996",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "person:sayaka",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:26:33.487847",
      "last_seen": "2026-02-16T00:39:23.912998",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:shiroyama_park_walk",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-16T00:26:33.487848",
      "last_seen": "2026-02-16T00:39:23.913000",
      "label": null
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:choking_incident",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487849",
      "last_seen": "2026-02-16T00:26:33.487849"
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:parental_regret",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487850",
      "last_seen": "2026-02-16T00:26:33.487850"
    },
    {
      "source": "diary:2026-02-16",
      "target": "concept:github_actions_workflow",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:26:33.487852",
      "last_seen": "2026-02-16T00:26:33.487852"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:pomera_book",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-16T00:26:33.487852",
      "last_seen": "2026-02-16T00:39:23.913007",
      "label": null
    },
    {
      "source": "person:self",
      "target": "goal:clean_pet_room",
      "type": "TARGETS",
      "label": "清掃の習慣化を目指す",
      "first_seen": "2026-02-16T00:30:31.747246",
      "last_seen": "2026-02-15T16:09:51.863130",
      "weight": 3
    },
    {
      "source": "person:self",
      "target": "goal:realistic_monster_design",
      "type": "TARGETS",
      "label": "画力向上を目標にしている",
      "first_seen": "2026-02-16T00:30:31.747250",
      "last_seen": "2026-02-15T16:10:58.535069",
      "weight": 6
    },
    {
      "source": "person:self",
      "target": "event:choking_accident",
      "type": "PARTICIPATES",
      "label": "仕事中に食事を与えていた",
      "first_seen": "2026-02-16T00:30:31.747253",
      "last_seen": "2026-02-16T00:30:31.747253",
      "weight": 1
    },
    {
      "source": "event:choking_accident",
      "target": "person:souma",
      "type": "ABOUT",
      "label": "息子が危険な目にあった",
      "first_seen": "2026-02-16T00:30:31.747254",
      "last_seen": "2026-02-16T00:30:31.747254",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "place:shiroyama_park",
      "type": "AT",
      "label": "家族で訪れる",
      "first_seen": "2026-02-16T00:30:31.747255",
      "last_seen": "2026-02-15T16:09:13.645167",
      "weight": 4
    },
    {
      "source": "project:pomera_workflow",
      "target": "insight:gh_actions_limitation",
      "type": "BARRIER",
      "label": "実行時間の制御が課題",
      "first_seen": "2026-02-16T00:30:31.747258",
      "last_seen": "2026-02-16T00:30:31.747258",
      "weight": 1
    },
    {
      "source": "project:pomera_workflow",
      "target": "goal:publish_book",
      "type": "EVOLVED_TO",
      "label": "成果を本にしたいという願望へ",
      "first_seen": "2026-02-16T00:30:31.747260",
      "last_seen": "2026-02-16T00:30:31.747260",
      "weight": 1
    },
    {
      "source": "goal:weight_loss_75kg",
      "target": "concept:cheat_day",
      "type": "PLANS",
      "label": "停滞期打破のために導入",
      "first_seen": "2026-02-16T00:30:31.747261",
      "last_seen": "2026-02-16T00:30:31.747261",
      "weight": 1
    },
    {
      "source": "event:choking_accident",
      "target": "person:sayaka",
      "type": "SOLVES",
      "label": "喉に詰まったものを取り出す",
      "first_seen": "2026-02-16T00:30:31.747262",
      "last_seen": "2026-02-15T16:10:25.400055",
      "weight": 2
    },
    {
      "source": "diary:2026-02-16",
      "target": "place:shiroyama_park",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:30:31.747267",
      "last_seen": "2026-02-16T00:30:31.747267"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:clean_pet_room",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:30:31.747268",
      "last_seen": "2026-02-16T00:30:31.747268"
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:choking_accident",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:30:31.747273",
      "last_seen": "2026-02-16T00:30:31.747273"
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:gh_actions_limitation",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:30:31.747274",
      "last_seen": "2026-02-16T00:30:31.747274"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:publish_book",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:30:31.747275",
      "last_seen": "2026-02-16T00:30:31.747275"
    },
    {
      "source": "person:self",
      "target": "event:cleaning_pet_room",
      "type": "PARTICIPATES",
      "label": "掃除を行った",
      "first_seen": "2026-02-16T00:39:23.912918",
      "last_seen": "2026-02-16T00:39:23.912918",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "goal:daily_cleaning",
      "type": "TARGETS",
      "label": "目標としている",
      "first_seen": "2026-02-16T00:39:23.912923",
      "last_seen": "2026-02-16T00:39:23.912923",
      "weight": 1
    },
    {
      "source": "insight:sticky_residue_problem",
      "target": "event:cleaning_pet_room",
      "type": "BARRIER",
      "label": "掃除の障害",
      "first_seen": "2026-02-16T00:39:23.912926",
      "last_seen": "2026-02-16T00:39:23.912926",
      "weight": 1
    },
    {
      "source": "concept:cheat_day",
      "target": "goal:weight_loss_75kg",
      "type": "SOLVES",
      "label": "停滞期対策",
      "first_seen": "2026-02-16T00:39:23.912931",
      "last_seen": "2026-02-16T00:39:23.912931",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:pomera_ai_workflow",
      "type": "DISCOVERS",
      "label": "ワークフローを考案",
      "first_seen": "2026-02-16T00:39:23.912934",
      "last_seen": "2026-02-15T16:08:37.988606",
      "weight": 2
    },
    {
      "source": "event:souma_choking_incident",
      "target": "person:souma",
      "type": "ABOUT",
      "label": "息子に起きた事故",
      "first_seen": "2026-02-16T00:39:23.912943",
      "last_seen": "2026-02-16T00:39:23.912943",
      "weight": 1
    },
    {
      "source": "insight:parental_failure",
      "target": "event:souma_choking_incident",
      "type": "TRIGGERED_BY",
      "label": "事故により自己嫌悪に陥る",
      "first_seen": "2026-02-16T00:39:23.912946",
      "last_seen": "2026-02-16T00:39:23.912946",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "goal:pomera_book",
      "type": "TARGETS",
      "label": "出版の希望",
      "first_seen": "2026-02-16T00:39:23.912948",
      "last_seen": "2026-02-15T16:09:13.645177",
      "weight": 3
    },
    {
      "source": "insight:github_actions_scheduling",
      "target": "project:pomera_ai_workflow",
      "type": "BARRIER",
      "label": "運用上の懸念",
      "first_seen": "2026-02-16T00:39:23.912951",
      "last_seen": "2026-02-16T00:39:23.912951",
      "weight": 1
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:cleaning_pet_room",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:39:23.912955",
      "last_seen": "2026-02-16T00:39:23.912955"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:daily_cleaning",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:39:23.912971",
      "last_seen": "2026-02-16T00:39:23.912971"
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:sticky_residue_problem",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:39:23.912975",
      "last_seen": "2026-02-16T00:39:23.912975"
    },
    {
      "source": "diary:2026-02-16",
      "target": "project:pomera_ai_workflow",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:39:23.912983",
      "last_seen": "2026-02-16T00:39:23.912983"
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:souma_choking_incident",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:39:23.913002",
      "last_seen": "2026-02-16T00:39:23.913002"
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:parental_failure",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:39:23.913004",
      "last_seen": "2026-02-16T00:39:23.913004"
    },
    {
      "source": "diary:2026-02-16",
      "target": "insight:github_actions_scheduling",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:39:23.913009",
      "last_seen": "2026-02-16T00:39:23.913009"
    },
    {
      "source": "person:self",
      "target": "diary:2026-02-16",
      "type": "MENTIONS",
      "label": "記録",
      "first_seen": "2026-02-16T00:51:05.851384",
      "last_seen": "2026-02-16T00:51:05.851384",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:side_job_saiteki",
      "type": "PARTICIPATES",
      "label": "AI活用アドバイザー",
      "first_seen": "2026-02-16T00:51:05.851390",
      "last_seen": "2026-02-16T00:51:05.851390",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:main_job",
      "type": "PARTICIPATES",
      "label": "リーダーを務める",
      "first_seen": "2026-02-16T00:51:05.851393",
      "last_seen": "2026-02-15T16:11:28.745766",
      "weight": 2
    },
    {
      "source": "person:self",
      "target": "emotion:overwhelmed",
      "type": "FEELING",
      "label": "やるべきことが溜まっていると感じる",
      "first_seen": "2026-02-16T00:51:05.851396",
      "last_seen": "2026-02-15T16:11:28.745768",
      "weight": 2
    },
    {
      "source": "person:suzuki",
      "target": "event:review_suzuki_material",
      "type": "CAUSAL",
      "label": "資料完成の連絡により発生",
      "first_seen": "2026-02-16T00:51:05.851399",
      "last_seen": "2026-02-16T00:51:05.851399",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "event:review_suzuki_material",
      "type": "PLANS",
      "label": "18時以降に実施予定",
      "first_seen": "2026-02-16T00:51:05.851401",
      "last_seen": "2026-02-16T00:51:05.851401",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "event:check_kaime_status",
      "type": "PLANS",
      "label": "18時以降に実施予定",
      "first_seen": "2026-02-16T00:51:05.851404",
      "last_seen": "2026-02-16T00:51:05.851404",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "goal:employee_analysis_doc",
      "type": "TARGETS",
      "label": "資料化を目指す",
      "first_seen": "2026-02-16T00:51:05.851407",
      "last_seen": "2026-02-16T00:51:05.851407",
      "weight": 1
    },
    {
      "source": "person:kaime",
      "target": "event:check_kaime_status",
      "type": "ABOUT",
      "label": "作業状況の対象",
      "first_seen": "2026-02-16T00:51:05.851409",
      "last_seen": "2026-02-16T00:51:05.851409",
      "weight": 1
    },
    {
      "source": "person:suzuki",
      "target": "goal:s_class_ai",
      "type": "TARGETS",
      "label": "目標として掲げている",
      "first_seen": "2026-02-16T00:51:05.851412",
      "last_seen": "2026-02-16T00:51:05.851412",
      "weight": 1
    },
    {
      "source": "person:kaime",
      "target": "goal:employee_analysis_doc",
      "type": "BARRIER",
      "label": "2月中完成に不確実性がある",
      "first_seen": "2026-02-16T00:51:05.851419",
      "last_seen": "2026-02-16T00:51:05.851419",
      "weight": 1
    },
    {
      "source": "project:main_job",
      "target": "event:review_suzuki_material",
      "type": "CAUSAL",
      "label": "18時終了が副業開始の条件",
      "first_seen": "2026-02-16T00:51:05.851422",
      "last_seen": "2026-02-16T00:51:05.851422",
      "weight": 1
    },
    {
      "source": "diary:2026-02-16",
      "target": "project:side_job_saiteki",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851428",
      "last_seen": "2026-02-16T00:51:05.851428"
    },
    {
      "source": "diary:2026-02-16",
      "target": "person:suzuki",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851431",
      "last_seen": "2026-02-16T00:51:05.851431"
    },
    {
      "source": "diary:2026-02-16",
      "target": "person:kaime",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851433",
      "last_seen": "2026-02-16T00:51:05.851433"
    },
    {
      "source": "diary:2026-02-16",
      "target": "project:main_job",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851436",
      "last_seen": "2026-02-16T00:51:05.851436"
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:review_suzuki_material",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851454",
      "last_seen": "2026-02-16T00:51:05.851454"
    },
    {
      "source": "diary:2026-02-16",
      "target": "event:check_kaime_status",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851457",
      "last_seen": "2026-02-16T00:51:05.851457"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:employee_analysis_doc",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851460",
      "last_seen": "2026-02-16T00:51:05.851460"
    },
    {
      "source": "diary:2026-02-16",
      "target": "emotion:overwhelmed",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851463",
      "last_seen": "2026-02-16T00:51:05.851463"
    },
    {
      "source": "diary:2026-02-16",
      "target": "goal:s_class_ai",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:51:05.851465",
      "last_seen": "2026-02-16T00:51:05.851465"
    },
    {
      "source": "project:pomera_workflow",
      "target": "insight:github_actions_issue",
      "type": "BARRIER",
      "label": "スケジューリングの難しさ",
      "first_seen": "2026-02-16T00:53:16.369653",
      "last_seen": "2026-02-16T00:53:16.369653",
      "weight": 1
    },
    {
      "source": "event:choking_incident",
      "target": "insight:parental_guilt",
      "type": "CAUSAL",
      "label": "強い後悔を引き起こした",
      "first_seen": "2026-02-16T00:53:16.369659",
      "last_seen": "2026-02-15T16:10:58.535073",
      "weight": 2
    },
    {
      "source": "person:self",
      "target": "insight:parental_guilt",
      "type": "FEELING",
      "label": "親として失格だと感じる",
      "first_seen": "2026-02-16T00:53:16.369661",
      "last_seen": "2026-02-15T16:10:25.400040",
      "weight": 2
    },
    {
      "source": "event:choking_incident",
      "target": "person:souma",
      "type": "ABOUT",
      "label": "息子が喉に詰める",
      "first_seen": "2026-02-16T00:53:16.369666",
      "last_seen": "2026-02-15T16:09:13.645169",
      "weight": 2
    },
    {
      "source": "event:choking_incident",
      "target": "person:sayaka",
      "type": "PARTICIPATES",
      "label": "妻がクッキーを取り出した",
      "first_seen": "2026-02-16T00:53:16.369668",
      "last_seen": "2026-02-16T00:53:16.369668",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "person:mugi",
      "type": "PARTICIPATES",
      "label": "散歩に行く",
      "first_seen": "2026-02-16T00:53:16.369671",
      "last_seen": "2026-02-15T16:10:25.400044",
      "weight": 2
    },
    {
      "source": "person:self",
      "target": "diary:2026-02-15",
      "relationship": "WROTE",
      "weight": 7,
      "first_seen": "2026-02-16T00:53:16.369673",
      "last_seen": "2026-02-15T16:11:28.745784",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:pet_room_cleaning",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:53:16.369675",
      "last_seen": "2026-02-15T16:10:25.400060",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:clean_pet_room_habit",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-16T00:53:16.369677",
      "last_seen": "2026-02-15T16:09:13.645183",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:sticky_residue_trouble",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:53:16.369679",
      "last_seen": "2026-02-16T00:53:16.369679"
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:weight_loss_75kg",
      "relationship": "MENTIONS",
      "weight": 5,
      "first_seen": "2026-02-16T00:53:16.369680",
      "last_seen": "2026-02-15T16:10:25.400066",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:cheat_day",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:53:16.369682",
      "last_seen": "2026-02-16T00:53:16.369682"
    },
    {
      "source": "diary:2026-02-15",
      "target": "project:pomera_workflow",
      "relationship": "MENTIONS",
      "weight": 5,
      "first_seen": "2026-02-16T00:53:16.369684",
      "last_seen": "2026-02-15T16:10:58.535091",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:youtube_restriction",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-16T00:53:16.369685",
      "last_seen": "2026-02-15T16:10:25.400071",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:realistic_monster_design",
      "relationship": "MENTIONS",
      "weight": 4,
      "first_seen": "2026-02-16T00:53:16.369687",
      "last_seen": "2026-02-15T16:10:58.535094",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "person:souma",
      "relationship": "MENTIONS",
      "weight": 6,
      "first_seen": "2026-02-16T00:53:16.369689",
      "last_seen": "2026-02-15T16:10:58.535096",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "person:sayaka",
      "relationship": "MENTIONS",
      "weight": 6,
      "first_seen": "2026-02-16T00:53:16.369690",
      "last_seen": "2026-02-15T16:10:58.535098",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "person:mugi",
      "relationship": "MENTIONS",
      "weight": 6,
      "first_seen": "2026-02-16T00:53:16.369692",
      "last_seen": "2026-02-15T16:10:58.535099",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "place:shiroyama_park",
      "relationship": "MENTIONS",
      "weight": 4,
      "first_seen": "2026-02-16T00:53:16.369693",
      "last_seen": "2026-02-15T16:10:25.400082",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:choking_incident",
      "relationship": "MENTIONS",
      "weight": 4,
      "first_seen": "2026-02-16T00:53:16.369695",
      "last_seen": "2026-02-15T16:10:58.535101",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:parental_guilt",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-16T00:53:16.369696",
      "last_seen": "2026-02-15T16:10:58.535102",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:github_actions_issue",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-16T00:53:16.369698",
      "last_seen": "2026-02-16T00:53:16.369698"
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:pomera_book",
      "relationship": "MENTIONS",
      "weight": 4,
      "first_seen": "2026-02-16T00:53:16.369700",
      "last_seen": "2026-02-15T16:10:25.400090",
      "label": null
    },
    {
      "source": "goal:clean_pet_room",
      "target": "insight:residue_problem",
      "type": "BARRIER",
      "label": "清掃の障害",
      "first_seen": "2026-02-15T16:08:37.988599",
      "last_seen": "2026-02-15T16:08:37.988599",
      "weight": 1
    },
    {
      "source": "goal:weight_loss_75kg",
      "target": "concept:omad_strategy",
      "type": "ABOUT",
      "label": "手法として採用",
      "first_seen": "2026-02-15T16:08:37.988604",
      "last_seen": "2026-02-15T16:08:37.988604",
      "weight": 1
    },
    {
      "source": "project:pomera_ai_workflow",
      "target": "concept:pomera_book",
      "type": "EVOLVED_TO",
      "label": "出版の希望へ繋がる",
      "first_seen": "2026-02-15T16:08:37.988610",
      "last_seen": "2026-02-15T16:08:37.988610",
      "weight": 1
    },
    {
      "source": "event:choking_incident",
      "target": "insight:risk_management_failure",
      "type": "CAUSAL",
      "label": "強い自己嫌悪を引き起こす",
      "first_seen": "2026-02-15T16:08:37.988615",
      "last_seen": "2026-02-15T16:08:37.988615",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "person:souma",
      "type": "ABOUT",
      "label": "父子",
      "first_seen": "2026-02-15T16:08:37.988619",
      "last_seen": "2026-02-15T16:08:37.988619",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "person:sayaka",
      "type": "ABOUT",
      "label": "夫婦",
      "first_seen": "2026-02-15T16:08:37.988622",
      "last_seen": "2026-02-15T16:08:37.988622",
      "weight": 1
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:clean_pet_room",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-15T16:08:37.988628",
      "last_seen": "2026-02-15T16:09:51.863176",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:residue_problem",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:08:37.988631",
      "last_seen": "2026-02-15T16:08:37.988631"
    },
    {
      "source": "diary:2026-02-15",
      "target": "concept:omad_strategy",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:08:37.988635",
      "last_seen": "2026-02-15T16:08:37.988635"
    },
    {
      "source": "diary:2026-02-15",
      "target": "project:pomera_ai_workflow",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:08:37.988636",
      "last_seen": "2026-02-15T16:08:37.988636"
    },
    {
      "source": "diary:2026-02-15",
      "target": "emotion:workflow_fun",
      "relationship": "MENTIONS",
      "weight": 3,
      "first_seen": "2026-02-15T16:08:37.988638",
      "last_seen": "2026-02-15T16:10:25.400070",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:youtube_restriction",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:08:37.988640",
      "last_seen": "2026-02-15T16:08:37.988640"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:risk_management_failure",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:08:37.988651",
      "last_seen": "2026-02-15T16:08:37.988651"
    },
    {
      "source": "diary:2026-02-15",
      "target": "concept:pomera_book",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-15T16:08:37.988654",
      "last_seen": "2026-02-15T16:10:58.535104",
      "label": null
    },
    {
      "source": "event:pet_room_cleaning",
      "target": "insight:sticky_trouble",
      "type": "ABOUT",
      "label": "粘着剤のトラブル",
      "first_seen": "2026-02-15T16:09:13.645155",
      "last_seen": "2026-02-15T16:09:13.645155",
      "weight": 1
    },
    {
      "source": "project:weight_loss",
      "target": "concept:cheat_day",
      "type": "PARTICIPATES",
      "label": "停滞期対策",
      "first_seen": "2026-02-15T16:09:13.645160",
      "last_seen": "2026-02-15T16:09:13.645160",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "emotion:workflow_excitement",
      "type": "FEELING",
      "label": "開発を楽しんでいる",
      "first_seen": "2026-02-15T16:09:13.645162",
      "last_seen": "2026-02-15T16:10:58.535067",
      "weight": 2
    },
    {
      "source": "person:self",
      "target": "goal:monster_design",
      "type": "TARGETS",
      "label": "趣味の画力向上を目指す",
      "first_seen": "2026-02-15T16:09:13.645165",
      "last_seen": "2026-02-15T16:09:51.863157",
      "weight": 2
    },
    {
      "source": "person:sayaka",
      "target": "event:choking_incident",
      "type": "SOLVES",
      "label": "クッキーを取り出す",
      "first_seen": "2026-02-15T16:09:13.645172",
      "last_seen": "2026-02-15T16:09:13.645172",
      "weight": 1
    },
    {
      "source": "project:pomera_workflow",
      "target": "concept:github_actions_wf",
      "type": "DISCOVERS",
      "label": "実装方法の確定",
      "first_seen": "2026-02-15T16:09:13.645176",
      "last_seen": "2026-02-15T16:09:13.645176",
      "weight": 1
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:sticky_trouble",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:13.645185",
      "last_seen": "2026-02-15T16:09:13.645185"
    },
    {
      "source": "diary:2026-02-15",
      "target": "project:weight_loss",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-15T16:09:13.645187",
      "last_seen": "2026-02-15T16:10:25.400064",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "concept:cheat_day",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-15T16:09:13.645190",
      "last_seen": "2026-02-15T16:10:58.535089",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "emotion:workflow_excitement",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-15T16:09:13.645194",
      "last_seen": "2026-02-15T16:10:58.535092",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "concept:youtube_restriction",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:13.645196",
      "last_seen": "2026-02-15T16:09:13.645196"
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:monster_design",
      "relationship": "MENTIONS",
      "weight": 2,
      "first_seen": "2026-02-15T16:09:13.645197",
      "last_seen": "2026-02-15T16:09:51.863192",
      "label": null
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:parental_regret",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:13.645208",
      "last_seen": "2026-02-15T16:09:13.645208"
    },
    {
      "source": "diary:2026-02-15",
      "target": "concept:github_actions_wf",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:13.645210",
      "last_seen": "2026-02-15T16:09:13.645210"
    },
    {
      "source": "insight:sticky_residue",
      "target": "goal:clean_pet_room",
      "type": "BARRIER",
      "label": "粘着が取れないことが掃除の障害",
      "first_seen": "2026-02-15T16:09:51.863133",
      "last_seen": "2026-02-15T16:09:51.863133",
      "weight": 1
    },
    {
      "source": "insight:cheat_day",
      "target": "goal:weight_loss_75kg",
      "type": "SOLVES",
      "label": "停滞期を打破するための戦略",
      "first_seen": "2026-02-15T16:09:51.863137",
      "last_seen": "2026-02-15T16:09:51.863137",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "event:shiroyama_park",
      "type": "PARTICIPATES",
      "label": "家族で散歩に行く",
      "first_seen": "2026-02-15T16:09:51.863159",
      "last_seen": "2026-02-15T16:09:51.863159",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "insight:choking_incident",
      "type": "CAUSAL",
      "label": "ながら作業による不注意",
      "first_seen": "2026-02-15T16:09:51.863162",
      "last_seen": "2026-02-15T16:09:51.863162",
      "weight": 1
    },
    {
      "source": "insight:choking_incident",
      "target": "insight:parenting_failure",
      "type": "EVOLVED_TO",
      "label": "事故をきっかけとした強い自己否定",
      "first_seen": "2026-02-15T16:09:51.863164",
      "last_seen": "2026-02-15T16:09:51.863164",
      "weight": 1
    },
    {
      "source": "person:sayaka",
      "target": "insight:choking_incident",
      "type": "SOLVES",
      "label": "詰まったクッキーを取り出した",
      "first_seen": "2026-02-15T16:09:51.863166",
      "last_seen": "2026-02-15T16:09:51.863166",
      "weight": 1
    },
    {
      "source": "insight:workflow_definition",
      "target": "project:pomera_workflow",
      "type": "ABOUT",
      "label": "プロジェクトの進捗",
      "first_seen": "2026-02-15T16:09:51.863168",
      "last_seen": "2026-02-15T16:09:51.863168",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "person:souma",
      "type": "FEELING",
      "label": "父としての責任感",
      "first_seen": "2026-02-15T16:09:51.863172",
      "last_seen": "2026-02-15T16:10:58.535076",
      "weight": 2
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:sticky_residue",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:51.863178",
      "last_seen": "2026-02-15T16:09:51.863178"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:cheat_day",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:51.863183",
      "last_seen": "2026-02-15T16:09:51.863183"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:youtube_limit",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:51.863188",
      "last_seen": "2026-02-15T16:09:51.863188"
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:shiroyama_park",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:51.863198",
      "last_seen": "2026-02-15T16:09:51.863198"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:choking_incident",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:51.863200",
      "last_seen": "2026-02-15T16:09:51.863200"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:parenting_failure",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:51.863202",
      "last_seen": "2026-02-15T16:09:51.863202"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:workflow_definition",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:09:51.863203",
      "last_seen": "2026-02-15T16:09:51.863203"
    },
    {
      "source": "person:self",
      "target": "goal:clean_room_habit",
      "type": "TARGETS",
      "label": "掃除を習慣にしたい",
      "first_seen": "2026-02-15T16:10:25.400030",
      "last_seen": "2026-02-15T16:10:25.400030",
      "weight": 1
    },
    {
      "source": "event:choking_accident",
      "target": "insight:parental_guilt",
      "type": "CAUSAL",
      "label": "事故が自責の念を引き起こした",
      "first_seen": "2026-02-15T16:10:25.400042",
      "last_seen": "2026-02-15T16:10:25.400042",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "person:souma",
      "type": "PARTICIPATES",
      "label": "シーソーで遊ぶ/お菓子をあげる",
      "first_seen": "2026-02-15T16:10:25.400046",
      "last_seen": "2026-02-15T16:10:25.400046",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "person:sayaka",
      "type": "PARTICIPATES",
      "label": "家族で散歩に行く",
      "first_seen": "2026-02-15T16:10:25.400048",
      "last_seen": "2026-02-15T16:10:25.400048",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "insight:workflow_solution",
      "type": "DISCOVERS",
      "label": "解決策を見出す",
      "first_seen": "2026-02-15T16:10:25.400051",
      "last_seen": "2026-02-15T16:10:25.400051",
      "weight": 1
    },
    {
      "source": "insight:workflow_solution",
      "target": "goal:pomera_book",
      "type": "EVOLVED_TO",
      "label": "アイデアを本にしたいという目標に発展",
      "first_seen": "2026-02-15T16:10:25.400053",
      "last_seen": "2026-02-15T16:10:25.400053",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "insight:diet_plan_next_week",
      "type": "PLANS",
      "label": "来週の食事を制限する",
      "first_seen": "2026-02-15T16:10:25.400057",
      "last_seen": "2026-02-15T16:10:25.400057",
      "weight": 1
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:clean_room_habit",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:25.400062",
      "last_seen": "2026-02-15T16:10:25.400062"
    },
    {
      "source": "diary:2026-02-15",
      "target": "project:monster_design",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:25.400073",
      "last_seen": "2026-02-15T16:10:25.400073"
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:choking_accident",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:25.400083",
      "last_seen": "2026-02-15T16:10:25.400083"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:workflow_solution",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:25.400087",
      "last_seen": "2026-02-15T16:10:25.400087"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:diet_plan_next_week",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:25.400092",
      "last_seen": "2026-02-15T16:10:25.400092"
    },
    {
      "source": "person:self",
      "target": "goal:pet_room_cleaning",
      "type": "TARGETS",
      "label": "掃除を目標にしている",
      "first_seen": "2026-02-15T16:10:58.535058",
      "last_seen": "2026-02-15T16:10:58.535058",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "insight:cleaning_barrier",
      "type": "FEELING",
      "label": "時間が作れないと感じている",
      "first_seen": "2026-02-15T16:10:58.535061",
      "last_seen": "2026-02-15T16:10:58.535061",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "goal:weight_under_75kg",
      "type": "TARGETS",
      "label": "減量を目標にしている",
      "first_seen": "2026-02-15T16:10:58.535063",
      "last_seen": "2026-02-15T16:10:58.535063",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "concept:pomera_book",
      "type": "TARGETS",
      "label": "書籍化を希望している",
      "first_seen": "2026-02-15T16:10:58.535074",
      "last_seen": "2026-02-15T16:10:58.535074",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "person:sayaka",
      "type": "MENTIONS",
      "label": "協力して育児をしている",
      "first_seen": "2026-02-15T16:10:58.535079",
      "last_seen": "2026-02-15T16:10:58.535079",
      "weight": 1
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:pet_room_cleaning",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:58.535084",
      "last_seen": "2026-02-15T16:10:58.535084"
    },
    {
      "source": "diary:2026-02-15",
      "target": "insight:cleaning_barrier",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:58.535086",
      "last_seen": "2026-02-15T16:10:58.535086"
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:weight_under_75kg",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:10:58.535087",
      "last_seen": "2026-02-15T16:10:58.535087"
    },
    {
      "source": "person:self",
      "target": "diary:2026-02-16",
      "type": "ABOUT",
      "label": "記録する",
      "first_seen": "2026-02-15T16:11:28.745761",
      "last_seen": "2026-02-15T16:11:28.745761",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "project:saiteki",
      "type": "PARTICIPATES",
      "label": "副業として従事",
      "first_seen": "2026-02-15T16:11:28.745764",
      "last_seen": "2026-02-15T16:11:28.745764",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "event:side_job_start",
      "type": "PLANS",
      "label": "18時以降に開始予定",
      "first_seen": "2026-02-15T16:11:28.745770",
      "last_seen": "2026-02-15T16:11:28.745770",
      "weight": 1
    },
    {
      "source": "project:saiteki",
      "target": "person:suzuki",
      "type": "MENTIONS",
      "label": "副社長として所属",
      "first_seen": "2026-02-15T16:11:28.745772",
      "last_seen": "2026-02-15T16:11:28.745772",
      "weight": 1
    },
    {
      "source": "project:saiteki",
      "target": "person:kaime",
      "type": "MENTIONS",
      "label": "QAスペシャリストとして所属",
      "first_seen": "2026-02-15T16:11:28.745774",
      "last_seen": "2026-02-15T16:11:28.745774",
      "weight": 1
    },
    {
      "source": "person:suzuki",
      "target": "person:self",
      "type": "CAUSAL",
      "label": "学習資料完成の連絡を送る",
      "first_seen": "2026-02-15T16:11:28.745777",
      "last_seen": "2026-02-15T16:11:28.745777",
      "weight": 1
    },
    {
      "source": "person:kaime",
      "target": "goal:qa_deployment",
      "type": "TARGETS",
      "label": "2月中のゴールを目指す",
      "first_seen": "2026-02-15T16:11:28.745779",
      "last_seen": "2026-02-15T16:11:28.745779",
      "weight": 1
    },
    {
      "source": "person:self",
      "target": "concept:analysis_utilization",
      "type": "DISCOVERS",
      "label": "利用案を具体化する",
      "first_seen": "2026-02-15T16:11:28.745780",
      "last_seen": "2026-02-15T16:11:28.745780",
      "weight": 1
    },
    {
      "source": "project:main_job",
      "target": "event:side_job_start",
      "type": "BARRIER",
      "label": "完了するまで副業が開始できない",
      "first_seen": "2026-02-15T16:11:28.745782",
      "last_seen": "2026-02-15T16:11:28.745782",
      "weight": 1
    },
    {
      "source": "diary:2026-02-15",
      "target": "diary:2026-02-16",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745786",
      "last_seen": "2026-02-15T16:11:28.745786"
    },
    {
      "source": "diary:2026-02-15",
      "target": "project:saiteki",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745787",
      "last_seen": "2026-02-15T16:11:28.745787"
    },
    {
      "source": "diary:2026-02-15",
      "target": "person:suzuki",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745791",
      "last_seen": "2026-02-15T16:11:28.745791"
    },
    {
      "source": "diary:2026-02-15",
      "target": "person:kaime",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745792",
      "last_seen": "2026-02-15T16:11:28.745792"
    },
    {
      "source": "diary:2026-02-15",
      "target": "project:main_job",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745794",
      "last_seen": "2026-02-15T16:11:28.745794"
    },
    {
      "source": "diary:2026-02-15",
      "target": "emotion:overwhelmed",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745795",
      "last_seen": "2026-02-15T16:11:28.745795"
    },
    {
      "source": "diary:2026-02-15",
      "target": "goal:qa_deployment",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745797",
      "last_seen": "2026-02-15T16:11:28.745797"
    },
    {
      "source": "diary:2026-02-15",
      "target": "concept:analysis_utilization",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745799",
      "last_seen": "2026-02-15T16:11:28.745799"
    },
    {
      "source": "diary:2026-02-15",
      "target": "event:side_job_start",
      "relationship": "MENTIONS",
      "weight": 1,
      "first_seen": "2026-02-15T16:11:28.745800",
      "last_seen": "2026-02-15T16:11:28.745800"
    }
  ],
  "metadata": {
    "created_at": "2026-02-15T18:27:41.189275",
    "last_updated": "2026-02-15T16:11:28.745806",
    "node_count": 97,
    "edge_count": 245
  }
};
    // GRAPH_DATA_END

    // STATE_INIT
    const state = {
      selectedNodeId: null,
      mode: 'default', // default, sentiment, community
      highlightDistortion: false
    };

    const colorMap = {
      "self": "#f43f5e",
      "person": "#3b82f6",
      "event": "#f59e0b",
      "place": "#10b981",
      "project": "#8b5cf6",
      "emotion": "#ec4899",
      "insight": "#06b6d4",
      "concept": "#64748b",
      "goal": "#ef4444",
      "diary": "#94a3b8",
      "review": "#fbbf24"
    };

    const communityColors = d3.schemeTableau10;

    // ── Pre-process Data (Filter Diary/Review Nodes) ──
    const journalTypes = new Set(['diary', 'review']);

    // Separate nodes
    const graphNodes = GRAPH_DATA.nodes.filter(n => !journalTypes.has(n.type));
    const journalNodes = GRAPH_DATA.nodes.filter(n => journalTypes.has(n.type));

    // Create specific edges for simulation (only those between graph nodes)
    const graphNodeIds = new Set(graphNodes.map(n => n.id));
    // D3 links need references to nodes or specific IDs. 
    // Since data.edges might use 'source'/'target' as strings initially, we filter them.
    const graphEdges = GRAPH_DATA.edges.filter(e => {
      const s = typeof e.source === 'object' ? e.source.id : e.source;
      const t = typeof e.target === 'object' ? e.target.id : e.target;
      return graphNodeIds.has(s) && graphNodeIds.has(t);
    }).map(e => ({ ...e })); // Clone to avoid mutating original if needed

    // Sort Journal Nodes by Date Descending
    journalNodes.sort((a, b) => {
      const dateA = a.date || a.first_seen || "";
      const dateB = b.date || b.first_seen || "";
      return dateB.localeCompare(dateA);
    });

    // Populate Sidebar Journal List
    const journalList = document.getElementById('journal-list');
    if (journalList) {
      journalList.innerHTML = '';
      journalNodes.forEach(d => {
        const item = document.createElement('div');
        item.style.padding = '10px';
        item.style.borderBottom = '1px solid #334155';
        item.style.cursor = 'pointer';
        item.style.transition = 'background 0.2s';

        item.onmouseover = () => item.style.background = '#334155';
        item.onmouseout = () => item.style.background = 'transparent';

        const typeColor = d.type === 'review' ? '#fbbf24' : '#94a3b8';
        const label = d.label || d.id;
        const dateStr = d.date || label;

        item.innerHTML = `
                <div style="display:flex; align-items:center; gap:8px;">
                    <div style="width:8px; height:8px; border-radius:50%; background:${typeColor}"></div>
                    <div style="font-weight:600; font-size:12px; color:#f1f5f9;">${d.type === 'review' ? '週次レビュー' : '日記'}</div>
                </div>
                <div style="font-size:11px; color:#cbd5e1; margin-top:4px; margin-left:16px;">${dateStr}</div>
            `;

        item.onclick = (e) => {
          e.stopPropagation();
          updateDetailPanel(d);
          highlightConnectedNodes(d.id);
        };
        journalList.appendChild(item);
      });
    }

    // ── Visualization Setup ──
    const container = document.getElementById('graph-container');
    const width = container.clientWidth;
    const height = container.clientHeight;
    const tooltip = document.getElementById('tooltip');

    const svg = d3.select('#graph-container').append('svg')
      .attr('width', '100%').attr('height', '100%')
      .attr('viewBox', [0, 0, width, height]);

    const g = svg.append('g');

    // Zoom
    const zoom = d3.zoom().scaleExtent([0.1, 8]).on('zoom', (e) => g.attr('transform', e.transform));
    svg.call(zoom);

    // Markers
    const defs = svg.append('defs');
    ['arrow-default', 'arrow-causal'].forEach(id => {
      defs.append('marker')
        .attr('id', id)
        .attr('viewBox', '0 -5 10 10')
        .attr('refX', 18).attr('refY', 0)
        .attr('markerWidth', 6).attr('markerHeight', 6)
        .attr('orient', 'auto')
        .append('path').attr('d', 'M0,-5L10,0L0,5')
        .attr('fill', id === 'arrow-causal' ? '#f472b6' : '#64748b');
    });

    // Simulation
    let simulation = d3.forceSimulation(graphNodes)
      .force('link', d3.forceLink(graphEdges).id(d => d.id).distance(100))
      .force('charge', d3.forceManyBody().strength(-300))
      .force('center', d3.forceCenter(width / 2, height / 2))
      .force('collide', d3.forceCollide().radius(d => getRadius(d) + 10));

    // Elements
    const linkGroup = g.append('g').attr('class', 'links');
    const nodeGroup = g.append('g').attr('class', 'nodes');

    let link = linkGroup.selectAll('line').data(graphEdges).join('line')
      .attr('stroke-width', d => d.type === 'CAUSAL' ? 2 : 1)
      .attr('stroke', '#475569')
      .attr('marker-end', d => d.type === 'CAUSAL' ? 'url(#arrow-causal)' : 'url(#arrow-default)');

    let node = nodeGroup.selectAll('g').data(graphNodes).join('g')
      .call(d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended));

    const circles = node.append('circle')
      .attr('r', d => getRadius(d))
      .attr('fill', d => getColor(d))
      .attr('stroke', '#fff')
      .attr('stroke-width', 0);

    const labels = node.append('text')
      .attr('dx', d => getRadius(d) + 5).attr('dy', 4)
      .text(d => d.label)
      .attr('fill', '#e2e8f0')
      .style('font-size', '11px')
      .style('pointer-events', 'none')
      .style('text-shadow', '0 1px 4px rgba(0,0,0,0.8)');

    // Events
    svg.on('click', (e) => {
      if (e.target.tagName === 'svg') {
        state.selectedNodeId = null;
        resetHighlight();
        document.getElementById('detail-panel').innerHTML = '<div class="detail-empty">ノードをクリックして詳細を表示</div>';
      }
    });

    node.on('click', (e, d) => {
      e.stopPropagation();
      state.selectedNodeId = d.id;
      updateDetailPanel(d);
      highlightNode(d);
    });

    node.on('mouseover', (e, d) => {
      tooltip.style.opacity = 1;
      tooltip.innerHTML = `
        <div style="font-weight:700; margin-bottom:4px; color:${getColor(d)}">${d.label}</div>
        <div style="font-size:10px; color:#94a3b8">${d.type}</div>
        ${d.sentiment ? `<div style="margin-top:4px;">Sentiment: ${d.sentiment}</div>` : ''}
      `;
      tooltip.style.left = (e.pageX + 10) + 'px';
      tooltip.style.top = (e.pageY - 10) + 'px';
    }).on('mouseout', () => tooltip.style.opacity = 0);

    simulation.on('tick', () => {
      link
        .attr('x1', d => d.source.x).attr('y1', d => d.source.y)
        .attr('x2', d => d.target.x).attr('y2', d => d.target.y);
      node.attr('transform', d => `translate(${d.x},${d.y})`);
    });

    // ── Functions ──

    function getRadius(d) {
      return d.id === 'person:self' ? 18 : (d.weight ? 5 + d.weight * 1.5 : 8);
    }

    function getColor(d) {
      if (state.mode === 'sentiment') {
        if (!d.sentiment) return '#475569';
        return d.sentiment > 0 ? '#34d399' : '#f87171';
      }
      if (state.mode === 'community') {
        return communityColors[d.community % 10] || '#94a3b8';
      }
      return colorMap[d.type] || '#94a3b8';
    }

    function setMode(mode) {
      state.mode = mode;
      document.querySelectorAll('.mode-btn').forEach(el => el.classList.remove('active'));
      // Safety check for button existence
      const btn = document.querySelector(`.mode-btn[onclick="setMode('${mode}')"]`);
      if (btn) btn.classList.add('active');

      circles.transition().duration(500).attr('fill', d => getColor(d));

      const info = document.getElementById('info-box');
      if (info) {
        if (mode === 'sentiment') info.style.display = 'block';
        else if (mode === 'community') info.style.display = 'block';
        else info.style.display = 'none';
      }
    }

    function toggleDistortion() {
      state.highlightDistortion = !state.highlightDistortion;
      circles.transition().duration(300)
        .attr('stroke', d => {
          if (state.highlightDistortion && d.tags && d.tags.some(t => t.includes('Cognitive Distortion'))) {
            return '#f43f5e';
          }
          return '#fff';
        })
        .attr('stroke-width', d => {
          if (state.highlightDistortion && d.tags && d.tags.some(t => t.includes('Cognitive Distortion'))) {
            return 4;
          }
          return 0;
        });
    }

    // Highlighting Logic

    // Highlight a visible node in the graph
    function highlightNode(d) {
      const connectedNodeIds = new Set();
      connectedNodeIds.add(d.id);

      GRAPH_DATA.edges.forEach(l => {
        // Check original edges for connections
        const s = (typeof l.source === 'object') ? l.source.id : l.source;
        const t = (typeof l.target === 'object') ? l.target.id : l.target;

        if (s === d.id) connectedNodeIds.add(t);
        if (t === d.id) connectedNodeIds.add(s);
      });

      circles.transition().attr('opacity', n => connectedNodeIds.has(n.id) ? 1 : 0.1);
      link.transition().attr('opacity', l => (l.source.id === d.id || l.target.id === d.id) ? 1 : 0.05);
      labels.transition().attr('opacity', n => connectedNodeIds.has(n.id) ? 1 : 0.1);
    }

    // Highlight nodes connected to a hidden journal node
    function highlightConnectedNodes(journalId) {
      const connectedNodeIds = new Set();
      // Look up connections in ALL edges
      GRAPH_DATA.edges.forEach(l => {
        const s = (typeof l.source === 'object') ? l.source.id : l.source;
        const t = (typeof l.target === 'object') ? l.target.id : l.target;

        if (s === journalId) connectedNodeIds.add(t);
        if (t === journalId) connectedNodeIds.add(s);
      });

      // Update visual elements
      circles.transition().attr('opacity', n => connectedNodeIds.has(n.id) ? 1 : 0.1);
      link.transition().attr('opacity', 0.05); // Hide all links as the journal node isn't there
      labels.transition().attr('opacity', n => connectedNodeIds.has(n.id) ? 1 : 0.1);
    }

    function resetHighlight() {
      circles.transition().attr('opacity', 1);
      link.transition().attr('opacity', 1);
      labels.transition().attr('opacity', 1);
    }

    function resetZoom() {
      svg.transition().duration(750).call(zoom.transform, d3.zoomIdentity);
    }

    // UI Updates
    function updateDetailPanel(d) {
      const panel = document.getElementById('detail-panel');
      let html = `
        <div class="detail-header" style="border-left: 4px solid ${getColor(d)}; padding-left: 10px;">
          <div style="font-size:10px; font-weight:700; color:#94a3b8; text-transform:uppercase;">${d.type}</div>
          <div class="detail-label" style="font-size:18px; font-weight:700; color:#fff;">${d.label}</div>
        </div>
        <div class="detail-content">
          <div style="margin-bottom:12px; font-size:14px; color:#cbd5e1; line-height:1.6;">${d.detail || '詳細情報なし'}</div>
        </div>
      `;

      if (d.tags && d.tags.length > 0) {
        html += `
        <div class="tags-container" style="display:flex; gap:6px; flex-wrap:wrap; margin-bottom:16px;">
            ${d.tags.map(t => `<span class="tag" style="background:#334155; color:#94a3b8; padding:3px 8px; border-radius:4px; font-size:10px; border:1px solid #475569;">${t}</span>`).join('')}
        </div>`;
      }

      // Render Analysis Report Button if available
      if (d.analysis_content) {
        html += `
          <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #475569;">
            <button onclick="openAnalysisModal('${d.id}')" style="width:100%; padding:12px; background:linear-gradient(135deg, #ec4899, #8b5cf6); color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px; transition: transform 0.1s;">
               <span style="font-size:16px">📜</span> AI分析レポートを読む
            </button>
          </div>
        `;
      }

      panel.innerHTML = html;
    }

    // ── Modal Functions ──
    function openAnalysisModal(nodeId) {
      const node = GRAPH_DATA.nodes.find(n => n.id === nodeId);
      if (!node || !node.analysis_content) return;

      const modal = document.getElementById('analysis-modal');
      const body = document.getElementById('modal-body');

      // Use marked to parse markdown
      body.innerHTML = marked.parse(node.analysis_content);

      modal.style.display = 'flex';

      // Close on Escape key
      document.onkeydown = function (evt) {
        if (evt.key === "Escape") closeModal();
      };
    }

    function closeModal(e) {
      document.getElementById('analysis-modal').style.display = 'none';
      document.onkeydown = null;
    }

    // Drag Functions
    function dragstarted(e, d) {
      if (!e.active) simulation.alphaTarget(0.3).restart();
      d.fx = d.x; d.fy = d.y;
    }
    function dragged(e, d) {
      d.fx = e.x; d.fy = e.y;
    }
    function dragended(e, d) {
      if (!e.active) simulation.alphaTarget(0);
      d.fx = null; d.fy = null;
    }

    // Keyboard Reset
    window.resetZoom = resetZoom;

    // ── Future Goals Rendering (Right Sidebar) ──
    function renderFutureGoals() {
      const container = document.getElementById('goal-list');
      if (!container) return;
      container.innerHTML = '';

      // Filter for Goals and Events
      const goals = GRAPH_DATA.nodes.filter(n =>
        (n.type === 'goal' && n.status === 'Active') ||
        (n.type === 'event' && n.status === 'Scheduled')
      );

      // Sort: Events by Date (Asc), Goals by Weight (Desc)
      goals.sort((a, b) => {
        if (a.type === 'event' && b.type === 'event') {
          return (a.date || '9999').localeCompare(b.date || '9999');
        }
        if (a.type === 'event') return -1;
        if (b.type === 'event') return 1;
        return b.weight - a.weight;
      });

      if (goals.length === 0) {
        container.innerHTML = '<div style="color:#64748b; font-size:12px; text-align:center; padding:20px;">No active goals or scheduled events.</div>';
        return;
      }

      goals.forEach(node => {
        const div = document.createElement('div');
        div.className = 'goal-item';
        // Check if focusNode is available
        div.onclick = () => { if (typeof focusNode === 'function') focusNode(node); };
        div.style.cursor = 'pointer';

        let dateDisplay = '';
        if (node.date) dateDisplay = `<div class="goal-date">📅 ${node.date}</div>`;

        let typeLabel = node.type === 'event' ? 'SCHEDULED' : 'ACTIVE GOAL';
        let typeClass = node.type;

        div.innerHTML = `
                                  <div class="goal-type ${typeClass}">${typeLabel}</div>
                                  ${dateDisplay}
                                  <div class="goal-label">${node.label}</div>
                                `;
        container.appendChild(div);
      });
    }

    // Initial Trigger
    renderFutureGoals();
    setMode('default');
  </script>
</body>

</html>